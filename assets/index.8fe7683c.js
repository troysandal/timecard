var pt=Object.defineProperty;var mt=(t,e,n)=>e in t?pt(t,e,{enumerable:!0,configurable:!0,writable:!0,value:n}):t[e]=n;var H=(t,e,n)=>(mt(t,typeof e!="symbol"?e+"":e,n),n);(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const o of document.querySelectorAll('link[rel="modulepreload"]'))r(o);new MutationObserver(o=>{for(const u of o)if(u.type==="childList")for(const i of u.addedNodes)i.tagName==="LINK"&&i.rel==="modulepreload"&&r(i)}).observe(document,{childList:!0,subtree:!0});function n(o){const u={};return o.integrity&&(u.integrity=o.integrity),o.referrerpolicy&&(u.referrerPolicy=o.referrerpolicy),o.crossorigin==="use-credentials"?u.credentials="include":o.crossorigin==="anonymous"?u.credentials="omit":u.credentials="same-origin",u}function r(o){if(o.ep)return;o.ep=!0;const u=n(o);fetch(o.href,u)}})();function O(){}function ut(t){return t()}function rt(){return Object.create(null)}function C(t){t.forEach(ut)}function lt(t){return typeof t=="function"}function Q(t,e){return t!=t?e==e:t!==e||t&&typeof t=="object"||typeof t=="function"}function gt(t){return Object.keys(t).length===0}function c(t,e){t.appendChild(e)}function V(t,e,n){t.insertBefore(e,n||null)}function F(t){t.parentNode&&t.parentNode.removeChild(t)}function _t(t,e){for(let n=0;n<t.length;n+=1)t[n]&&t[n].d(e)}function m(t){return document.createElement(t)}function A(t){return document.createTextNode(t)}function w(){return A(" ")}function I(t,e,n,r){return t.addEventListener(e,n,r),()=>t.removeEventListener(e,n,r)}function x(t,e,n){n==null?t.removeAttribute(e):t.getAttribute(e)!==n&&t.setAttribute(e,n)}function $t(t){return Array.from(t.childNodes)}function K(t,e){e=""+e,t.wholeText!==e&&(t.data=e)}function j(t,e){t.value=e==null?"":e}function yt(t,e,{bubbles:n=!1,cancelable:r=!1}={}){const o=document.createEvent("CustomEvent");return o.initCustomEvent(t,n,r,e),o}let M;function N(t){M=t}function bt(){if(!M)throw new Error("Function called outside component initialization");return M}function wt(){const t=bt();return(e,n,{cancelable:r=!1}={})=>{const o=t.$$.callbacks[e];if(o){const u=yt(e,n,{cancelable:r});return o.slice().forEach(i=>{i.call(t,u)}),!u.defaultPrevented}return!0}}const L=[],R=[],P=[],W=[],vt=Promise.resolve();let G=!1;function Tt(){G||(G=!0,vt.then(ct))}function J(t){P.push(t)}function xt(t){W.push(t)}const q=new Set;let B=0;function ct(){const t=M;do{for(;B<L.length;){const e=L[B];B++,N(e),St(e.$$)}for(N(null),L.length=0,B=0;R.length;)R.pop()();for(let e=0;e<P.length;e+=1){const n=P[e];q.has(n)||(q.add(n),n())}P.length=0}while(L.length);for(;W.length;)W.pop()();G=!1,q.clear(),N(t)}function St(t){if(t.fragment!==null){t.update(),C(t.before_update);const e=t.dirty;t.dirty=[-1],t.fragment&&t.fragment.p(t.ctx,e),t.after_update.forEach(J)}}const z=new Set;let D;function Dt(){D={r:0,c:[],p:D}}function Et(){D.r||C(D.c),D=D.p}function E(t,e){t&&t.i&&(z.delete(t),t.i(e))}function U(t,e,n,r){if(t&&t.o){if(z.has(t))return;z.add(t),D.c.push(()=>{z.delete(t),r&&(n&&t.d(1),r())}),t.o(e)}else r&&r()}function Ot(t,e,n){const r=t.$$.props[e];r!==void 0&&(t.$$.bound[r]=n,n(t.$$.ctx[r]))}function ft(t){t&&t.c()}function X(t,e,n,r){const{fragment:o,after_update:u}=t.$$;o&&o.m(e,n),r||J(()=>{const i=t.$$.on_mount.map(ut).filter(lt);t.$$.on_destroy?t.$$.on_destroy.push(...i):C(i),t.$$.on_mount=[]}),u.forEach(J)}function Z(t,e){const n=t.$$;n.fragment!==null&&(C(n.on_destroy),n.fragment&&n.fragment.d(e),n.on_destroy=n.fragment=null,n.ctx=[])}function Ct(t,e){t.$$.dirty[0]===-1&&(L.push(t),Tt(),t.$$.dirty.fill(0)),t.$$.dirty[e/31|0]|=1<<e%31}function tt(t,e,n,r,o,u,i,p=[-1]){const f=M;N(t);const s=t.$$={fragment:null,ctx:[],props:u,update:O,not_equal:o,bound:rt(),on_mount:[],on_destroy:[],on_disconnect:[],before_update:[],after_update:[],context:new Map(e.context||(f?f.$$.context:[])),callbacks:rt(),dirty:p,skip_bound:!1,root:e.target||f.$$.root};i&&i(s.root);let d=!1;if(s.ctx=n?n(t,e.props||{},(l,g,...T)=>{const b=T.length?T[0]:g;return s.ctx&&o(s.ctx[l],s.ctx[l]=b)&&(!s.skip_bound&&s.bound[l]&&s.bound[l](b),d&&Ct(t,l)),g}):[],s.update(),d=!0,C(s.before_update),s.fragment=r?r(s.ctx):!1,e.target){if(e.hydrate){const l=$t(e.target);s.fragment&&s.fragment.l(l),l.forEach(F)}else s.fragment&&s.fragment.c();e.intro&&E(t.$$.fragment),X(t,e.target,e.anchor,e.customElement),ct()}N(f)}class et{$destroy(){Z(this,1),this.$destroy=O}$on(e,n){if(!lt(n))return O;const r=this.$$.callbacks[e]||(this.$$.callbacks[e]=[]);return r.push(n),()=>{const o=r.indexOf(n);o!==-1&&r.splice(o,1)}}$set(e){this.$$set&&!gt(e)&&(this.$$.skip_bound=!0,this.$$set(e),this.$$.skip_bound=!1)}}function at(t){const e=t.getUTCHours().toString().padStart(2,"0"),n=t.getUTCMinutes().toString().padStart(2,"0"),r=t.getUTCSeconds().toString().padStart(2,"0");return`${e}:${n}:${r}`}function ot(t){if(!t||(t=t.trim(),t.length===0))return;const e=t.split(":");if(e.length!==3||e.some(r=>r.length===0))return;const n=new Date(`1970-01-01 ${t}`);if(!isNaN(n.valueOf()))return n}class kt{constructor(){H(this,"tests",[])}get score(){let e=0;for(let n of this.tests)e+=n.score;return e}get scoreString(){return at(new Date(this.score*1e3))}}class Y{constructor(){H(this,"enter");H(this,"exit")}static fromTimes(e,n){const r=ot(e),o=ot(n);if(!r||!o||o<r)return;const u=new Y;return u.enter=r,u.exit=o,u}get score(){return(this.exit.valueOf()-this.enter.valueOf())/1e3}get scoreString(){return at(new Date(this.exit.valueOf()-this.enter.valueOf()))}}function Lt(t){let e,n,r=t[1]+1+"",o,u,i,p,f,s,d,l,g,T,b,v,S,k;return{c(){e=m("tr"),n=m("td"),o=A(r),u=w(),i=m("button"),i.textContent="\u274C",p=w(),f=m("td"),s=m("input"),d=w(),l=m("td"),g=m("input"),T=w(),b=m("td"),v=A(t[2]),x(s,"size","8"),x(s,"class","enterTime"),x(g,"size","8"),x(g,"class","exitTime")},m($,a){V($,e,a),c(e,n),c(n,o),c(n,u),c(n,i),c(e,p),c(e,f),c(f,s),j(s,t[0].enter),c(e,d),c(e,l),c(l,g),j(g,t[0].exit),c(e,T),c(e,b),c(b,v),S||(k=[I(i,"click",t[3]),I(s,"input",t[4]),I(g,"input",t[5])],S=!0)},p($,[a]){a&2&&r!==(r=$[1]+1+"")&&K(o,r),a&1&&s.value!==$[0].enter&&j(s,$[0].enter),a&1&&g.value!==$[0].exit&&j(g,$[0].exit),a&4&&K(v,$[2])},i:O,o:O,d($){$&&F(e),S=!1,C(k)}}}function Nt(t,e,n){let r;const o=wt();function u(){o("delete",{index:p})}let{testDatum:i}=e,{index:p}=e;function f(l){const g=Y.fromTimes(l.enter,l.exit);return g?g.scoreString:""}function s(){i.enter=this.value,n(0,i)}function d(){i.exit=this.value,n(0,i)}return t.$$set=l=>{"testDatum"in l&&n(0,i=l.testDatum),"index"in l&&n(1,p=l.index)},t.$$.update=()=>{t.$$.dirty&1&&n(2,r=f(i))},[i,p,r,u,s,d]}class At extends et{constructor(e){super(),tt(this,e,Nt,Lt,Q,{testDatum:0,index:1})}}function it(t,e,n){const r=t.slice();return r[6]=e[n],r[7]=e,r[8]=n,r}function st(t){let e,n,r;function o(i){t[4](i,t[6],t[7],t[8])}let u={index:t[8]};return t[6]!==void 0&&(u.testDatum=t[6]),e=new At({props:u}),R.push(()=>Ot(e,"testDatum",o)),e.$on("delete",t[3]),{c(){ft(e.$$.fragment)},m(i,p){X(e,i,p),r=!0},p(i,p){t=i;const f={};!n&&p&1&&(n=!0,f.testDatum=t[6],xt(()=>n=!1)),e.$set(f)},i(i){r||(E(e.$$.fragment,i),r=!0)},o(i){U(e.$$.fragment,i),r=!1},d(i){Z(e,i)}}}function Mt(t){let e,n,r,o,u,i,p,f,s,d,l,g,T,b,v,S,k,$=t[0],a=[];for(let h=0;h<$.length;h+=1)a[h]=st(it(t,$,h));const ht=h=>U(a[h],1,1,()=>{a[h]=null});return{c(){e=m("table"),n=m("thead"),n.innerHTML=`<tr><th>Test #</th> 
            <th>Time In</th> 
            <th>Time Out</th> 
            <th>Score</th></tr>`,r=w(),o=m("tbody");for(let h=0;h<a.length;h+=1)a[h].c();u=w(),i=m("tfoot"),p=m("tr"),f=m("th"),s=m("div"),d=A("Total Score: "),l=m("span"),g=A(t[1]),T=w(),b=m("button"),b.textContent="Add a Test",x(l,"class","score"),x(s,"id","overallScore"),x(b,"id","addTest"),x(f,"colspan","4")},m(h,y){V(h,e,y),c(e,n),c(e,r),c(e,o);for(let _=0;_<a.length;_+=1)a[_].m(o,null);c(e,u),c(e,i),c(i,p),c(p,f),c(f,s),c(s,d),c(s,l),c(l,g),c(f,T),c(f,b),v=!0,S||(k=I(b,"click",t[2]),S=!0)},p(h,[y]){if(y&9){$=h[0];let _;for(_=0;_<$.length;_+=1){const nt=it(h,$,_);a[_]?(a[_].p(nt,y),E(a[_],1)):(a[_]=st(nt),a[_].c(),E(a[_],1),a[_].m(o,null))}for(Dt(),_=$.length;_<a.length;_+=1)ht(_);Et()}(!v||y&2)&&K(g,h[1])},i(h){if(!v){for(let y=0;y<$.length;y+=1)E(a[y]);v=!0}},o(h){a=a.filter(Boolean);for(let y=0;y<a.length;y+=1)U(a[y]);v=!1},d(h){h&&F(e),_t(a,h),S=!1,k()}}}function dt(){return{enter:"",exit:""}}function Ht(t){const e=[];for(let n=0;n<t;n++)e.push(dt);return e}function jt(t,e,n){let r,o=Ht(7);function u(){n(0,o[o.length]=dt(),o)}function i(){let s=new kt;for(let d of o){const l=Y.fromTimes(d.enter,d.exit);l&&s.tests.push(l)}return s.scoreString}function p(s){window.confirm(`You sure you want to delete test ${s.detail.index+1}?`)&&n(0,o=o.filter((d,l)=>l!==s.detail.index))}function f(s,d,l,g){l[g]=s,n(0,o)}return t.$$.update=()=>{t.$$.dirty&1&&n(1,r=i())},[o,r,u,p,f]}class Bt extends et{constructor(e){super(),tt(this,e,jt,Mt,Q,{})}}function It(t){let e,n,r,o,u,i,p,f,s;return f=new Bt({}),{c(){e=m("main"),n=m("h1"),n.textContent="Time Card",r=w(),o=m("p"),o.textContent=`You can verify your Sprint Enduro score cards
      using this web site. Why would you do that?  Because races are 
      busy places and with hundreds of riders, those hard working club 
      members sometimes enter something incorrectly.`,u=w(),i=m("p"),i.innerHTML="Enter <b>Time In</b> and <b>Time Out</b> as HH:MM:SS.",p=w(),ft(f.$$.fragment)},m(d,l){V(d,e,l),c(e,n),c(e,r),c(e,o),c(e,u),c(e,i),c(e,p),X(f,e,null),s=!0},p:O,i(d){s||(E(f.$$.fragment,d),s=!0)},o(d){U(f.$$.fragment,d),s=!1},d(d){d&&F(e),Z(f)}}}class Pt extends et{constructor(e){super(),tt(this,e,null,It,Q,{})}}new Pt({target:document.getElementById("app")});
