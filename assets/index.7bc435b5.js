var ht=Object.defineProperty;var mt=(t,e,n)=>e in t?ht(t,e,{enumerable:!0,configurable:!0,writable:!0,value:n}):t[e]=n;var j=(t,e,n)=>(mt(t,typeof e!="symbol"?e+"":e,n),n);(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const o of document.querySelectorAll('link[rel="modulepreload"]'))r(o);new MutationObserver(o=>{for(const u of o)if(u.type==="childList")for(const i of u.addedNodes)i.tagName==="LINK"&&i.rel==="modulepreload"&&r(i)}).observe(document,{childList:!0,subtree:!0});function n(o){const u={};return o.integrity&&(u.integrity=o.integrity),o.referrerpolicy&&(u.referrerPolicy=o.referrerpolicy),o.crossorigin==="use-credentials"?u.credentials="include":o.crossorigin==="anonymous"?u.credentials="omit":u.credentials="same-origin",u}function r(o){if(o.ep)return;o.ep=!0;const u=n(o);fetch(o.href,u)}})();function k(){}function ut(t){return t()}function rt(){return Object.create(null)}function L(t){t.forEach(ut)}function lt(t){return typeof t=="function"}function V(t,e){return t!=t?e==e:t!==e||t&&typeof t=="object"||typeof t=="function"}function pt(t){return Object.keys(t).length===0}function l(t,e){t.appendChild(e)}function F(t,e,n){t.insertBefore(e,n||null)}function D(t){t.parentNode&&t.parentNode.removeChild(t)}function _t(t,e){for(let n=0;n<t.length;n+=1)t[n]&&t[n].d(e)}function h(t){return document.createElement(t)}function M(t){return document.createTextNode(t)}function S(){return M(" ")}function P(t,e,n,r){return t.addEventListener(e,n,r),()=>t.removeEventListener(e,n,r)}function w(t,e,n){n==null?t.removeAttribute(e):t.getAttribute(e)!==n&&t.setAttribute(e,n)}function gt(t){return Array.from(t.childNodes)}function R(t,e){e=""+e,t.wholeText!==e&&(t.data=e)}function B(t,e){t.value=e==null?"":e}function $t(t,e,{bubbles:n=!1,cancelable:r=!1}={}){const o=document.createEvent("CustomEvent");return o.initCustomEvent(t,n,r,e),o}let H;function A(t){H=t}function bt(){if(!H)throw new Error("Function called outside component initialization");return H}function yt(){const t=bt();return(e,n,{cancelable:r=!1}={})=>{const o=t.$$.callbacks[e];if(o){const u=$t(e,n,{cancelable:r});return o.slice().forEach(i=>{i.call(t,u)}),!u.defaultPrevented}return!0}}const N=[],W=[],z=[],G=[],wt=Promise.resolve();let J=!1;function vt(){J||(J=!0,wt.then(ct))}function Q(t){z.push(t)}function Tt(t){G.push(t)}const K=new Set;let I=0;function ct(){const t=H;do{for(;I<N.length;){const e=N[I];I++,A(e),xt(e.$$)}for(A(null),N.length=0,I=0;W.length;)W.pop()();for(let e=0;e<z.length;e+=1){const n=z[e];K.has(n)||(K.add(n),n())}z.length=0}while(N.length);for(;G.length;)G.pop()();J=!1,K.clear(),A(t)}function xt(t){if(t.fragment!==null){t.update(),L(t.before_update);const e=t.dirty;t.dirty=[-1],t.fragment&&t.fragment.p(t.ctx,e),t.after_update.forEach(Q)}}const U=new Set;let C;function St(){C={r:0,c:[],p:C}}function Dt(){C.r||L(C.c),C=C.p}function O(t,e){t&&t.i&&(U.delete(t),t.i(e))}function Y(t,e,n,r){if(t&&t.o){if(U.has(t))return;U.add(t),C.c.push(()=>{U.delete(t),r&&(n&&t.d(1),r())}),t.o(e)}else r&&r()}function Et(t,e,n){const r=t.$$.props[e];r!==void 0&&(t.$$.bound[r]=n,n(t.$$.ctx[r]))}function ft(t){t&&t.c()}function X(t,e,n,r){const{fragment:o,after_update:u}=t.$$;o&&o.m(e,n),r||Q(()=>{const i=t.$$.on_mount.map(ut).filter(lt);t.$$.on_destroy?t.$$.on_destroy.push(...i):L(i),t.$$.on_mount=[]}),u.forEach(Q)}function Z(t,e){const n=t.$$;n.fragment!==null&&(L(n.on_destroy),n.fragment&&n.fragment.d(e),n.on_destroy=n.fragment=null,n.ctx=[])}function Ct(t,e){t.$$.dirty[0]===-1&&(N.push(t),vt(),t.$$.dirty.fill(0)),t.$$.dirty[e/31|0]|=1<<e%31}function tt(t,e,n,r,o,u,i,f=[-1]){const d=H;A(t);const s=t.$$={fragment:null,ctx:[],props:u,update:k,not_equal:o,bound:rt(),on_mount:[],on_destroy:[],on_disconnect:[],before_update:[],after_update:[],context:new Map(e.context||(d?d.$$.context:[])),callbacks:rt(),dirty:f,skip_bound:!1,root:e.target||d.$$.root};i&&i(s.root);let _=!1;if(s.ctx=n?n(t,e.props||{},(c,m,...x)=>{const g=x.length?x[0]:m;return s.ctx&&o(s.ctx[c],s.ctx[c]=g)&&(!s.skip_bound&&s.bound[c]&&s.bound[c](g),_&&Ct(t,c)),m}):[],s.update(),_=!0,L(s.before_update),s.fragment=r?r(s.ctx):!1,e.target){if(e.hydrate){const c=gt(e.target);s.fragment&&s.fragment.l(c),c.forEach(D)}else s.fragment&&s.fragment.c();e.intro&&O(t.$$.fragment),X(t,e.target,e.anchor,e.customElement),ct()}A(d)}class et{$destroy(){Z(this,1),this.$destroy=k}$on(e,n){if(!lt(n))return k;const r=this.$$.callbacks[e]||(this.$$.callbacks[e]=[]);return r.push(n),()=>{const o=r.indexOf(n);o!==-1&&r.splice(o,1)}}$set(e){this.$$set&&!pt(e)&&(this.$$.skip_bound=!0,this.$$set(e),this.$$.skip_bound=!1)}}const Ot="/timecard/assets/icon.110bac24.png";function at(t){const e=t.getUTCHours().toString().padStart(2,"0"),n=t.getUTCMinutes().toString().padStart(2,"0"),r=t.getUTCSeconds().toString().padStart(2,"0");return`${e}:${n}:${r}`}function ot(t){if(!t||(t=t.trim(),t.length===0))return;const e=t.split(":");if(e.length!==3||e.some(r=>r.length===0))return;const n=new Date(`1970-01-01 ${t}`);if(!isNaN(n.valueOf()))return n}class kt{constructor(){j(this,"tests",[])}get score(){let e=0;for(let n of this.tests)e+=n.score;return e}get scoreString(){return at(new Date(this.score*1e3))}}class q{constructor(){j(this,"enter");j(this,"exit")}static fromTimes(e,n){const r=ot(e),o=ot(n);if(!r||!o||o<r)return;const u=new q;return u.enter=r,u.exit=o,u}get score(){return(this.exit.valueOf()-this.enter.valueOf())/1e3}get scoreString(){return at(new Date(this.exit.valueOf()-this.enter.valueOf()))}}function Lt(t){let e,n,r=t[1]+1+"",o,u,i,f,d,s,_,c,m,x,g,v,y,E;return{c(){e=h("tr"),n=h("td"),o=M(r),u=S(),i=h("button"),i.textContent="\u274C",f=S(),d=h("td"),s=h("input"),_=S(),c=h("td"),m=h("input"),x=S(),g=h("td"),v=M(t[2]),w(s,"size","8"),w(s,"class","enterTime"),w(m,"size","8"),w(m,"class","exitTime")},m(b,a){F(b,e,a),l(e,n),l(n,o),l(n,u),l(n,i),l(e,f),l(e,d),l(d,s),B(s,t[0].enter),l(e,_),l(e,c),l(c,m),B(m,t[0].exit),l(e,x),l(e,g),l(g,v),y||(E=[P(i,"click",t[3]),P(s,"input",t[4]),P(m,"input",t[5])],y=!0)},p(b,[a]){a&2&&r!==(r=b[1]+1+"")&&R(o,r),a&1&&s.value!==b[0].enter&&B(s,b[0].enter),a&1&&m.value!==b[0].exit&&B(m,b[0].exit),a&4&&R(v,b[2])},i:k,o:k,d(b){b&&D(e),y=!1,L(E)}}}function Nt(t,e,n){let r;const o=yt();function u(){o("delete",{index:f})}let{testDatum:i}=e,{index:f}=e;function d(c){const m=q.fromTimes(c.enter,c.exit);return m?m.scoreString:""}function s(){i.enter=this.value,n(0,i)}function _(){i.exit=this.value,n(0,i)}return t.$$set=c=>{"testDatum"in c&&n(0,i=c.testDatum),"index"in c&&n(1,f=c.index)},t.$$.update=()=>{t.$$.dirty&1&&n(2,r=d(i))},[i,f,r,u,s,_]}class At extends et{constructor(e){super(),tt(this,e,Nt,Lt,V,{testDatum:0,index:1})}}function it(t,e,n){const r=t.slice();return r[6]=e[n],r[7]=e,r[8]=n,r}function st(t){let e,n,r;function o(i){t[4](i,t[6],t[7],t[8])}let u={index:t[8]};return t[6]!==void 0&&(u.testDatum=t[6]),e=new At({props:u}),W.push(()=>Et(e,"testDatum",o)),e.$on("delete",t[3]),{c(){ft(e.$$.fragment)},m(i,f){X(e,i,f),r=!0},p(i,f){t=i;const d={};!n&&f&1&&(n=!0,d.testDatum=t[6],Tt(()=>n=!1)),e.$set(d)},i(i){r||(O(e.$$.fragment,i),r=!0)},o(i){Y(e.$$.fragment,i),r=!1},d(i){Z(e,i)}}}function Mt(t){let e,n,r,o,u,i,f,d,s,_,c,m,x,g,v,y,E,b=t[0],a=[];for(let p=0;p<b.length;p+=1)a[p]=st(it(t,b,p));const dt=p=>Y(a[p],1,1,()=>{a[p]=null});return{c(){e=h("table"),n=h("thead"),n.innerHTML=`<tr><th>Test #</th> 
            <th>Time In</th> 
            <th>Time Out</th> 
            <th>Score</th></tr>`,r=S(),o=h("tbody");for(let p=0;p<a.length;p+=1)a[p].c();u=S(),i=h("tfoot"),f=h("tr"),d=h("th"),s=h("div"),_=M("Total Score: "),c=h("span"),m=M(t[1]),x=S(),g=h("button"),g.textContent="Add a Test",w(c,"class","score"),w(s,"id","overallScore"),w(g,"id","addTest"),w(d,"colspan","4")},m(p,T){F(p,e,T),l(e,n),l(e,r),l(e,o);for(let $=0;$<a.length;$+=1)a[$].m(o,null);l(e,u),l(e,i),l(i,f),l(f,d),l(d,s),l(s,_),l(s,c),l(c,m),l(d,x),l(d,g),v=!0,y||(E=P(g,"click",t[2]),y=!0)},p(p,[T]){if(T&9){b=p[0];let $;for($=0;$<b.length;$+=1){const nt=it(p,b,$);a[$]?(a[$].p(nt,T),O(a[$],1)):(a[$]=st(nt),a[$].c(),O(a[$],1),a[$].m(o,null))}for(St(),$=b.length;$<a.length;$+=1)dt($);Dt()}(!v||T&2)&&R(m,p[1])},i(p){if(!v){for(let T=0;T<b.length;T+=1)O(a[T]);v=!0}},o(p){a=a.filter(Boolean);for(let T=0;T<a.length;T+=1)Y(a[T]);v=!1},d(p){p&&D(e),_t(a,p),y=!1,E()}}}function Ht(t){const e=[];for(let n=0;n<t;n++)e.push({enter:"",exit:""});return e}function jt(t,e,n){let r,o=Ht(7);function u(){n(0,o[o.length]={enter:"",exit:""},o)}function i(){let s=new kt;for(let _ of o){const c=q.fromTimes(_.enter,_.exit);c&&s.tests.push(c)}return s.scoreString}function f(s){window.confirm(`You sure you want to delete test ${s.detail.index+1}?`)&&n(0,o=o.filter((_,c)=>c!==s.detail.index))}function d(s,_,c,m){c[m]=s,n(0,o)}return t.$$.update=()=>{t.$$.dirty&1&&n(1,r=i())},[o,r,u,f,d]}class Bt extends et{constructor(e){super(),tt(this,e,jt,Mt,V,{})}}function It(t){let e,n,r,o,u,i,f,d,s,_,c,m,x,g,v;return g=new Bt({}),{c(){e=h("meta"),n=h("meta"),r=h("link"),o=h("meta"),u=S(),i=h("main"),f=h("center"),d=h("h1"),d.textContent="Time Card",s=S(),_=h("p"),_.textContent=`You can verify your Sprint Enduro score cards
        using this web site. Why would you do that?  Because races are 
        busy places and with hundreds of riders, those hard working club 
        members sometimes enter something incorrectly.`,c=S(),m=h("p"),m.innerHTML="Enter <b>Time In</b> and <b>Time Out</b> as HH:MM:SS.",x=S(),ft(g.$$.fragment),w(e,"name","apple-mobile-web-app-capable"),w(e,"content","yes"),w(n,"name","viewport"),w(n,"content","width=device-width, initial-scale=1, maximum-scale=1"),w(r,"rel","apple-touch-icon"),w(r,"href",Ot),w(o,"name","apple-mobile-web-app-title"),w(o,"content","Enduro Time Card")},m(y,E){l(document.head,e),l(document.head,n),l(document.head,r),l(document.head,o),F(y,u,E),F(y,i,E),l(i,f),l(f,d),l(f,s),l(f,_),l(f,c),l(f,m),l(f,x),X(g,f,null),v=!0},p:k,i(y){v||(O(g.$$.fragment,y),v=!0)},o(y){Y(g.$$.fragment,y),v=!1},d(y){D(e),D(n),D(r),D(o),y&&D(u),y&&D(i),Z(g)}}}class Pt extends et{constructor(e){super(),tt(this,e,null,It,V,{})}}new Pt({target:document.getElementById("app")});
