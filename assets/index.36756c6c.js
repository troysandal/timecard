var $e=Object.defineProperty;var He=(e,t,n)=>t in e?$e(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n;var L=(e,t,n)=>(He(e,typeof t!="symbol"?t+"":t,n),n);(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const i of document.querySelectorAll('link[rel="modulepreload"]'))s(i);new MutationObserver(i=>{for(const c of i)if(c.type==="childList")for(const r of c.addedNodes)r.tagName==="LINK"&&r.rel==="modulepreload"&&s(r)}).observe(document,{childList:!0,subtree:!0});function n(i){const c={};return i.integrity&&(c.integrity=i.integrity),i.referrerpolicy&&(c.referrerPolicy=i.referrerpolicy),i.crossorigin==="use-credentials"?c.credentials="include":i.crossorigin==="anonymous"?c.credentials="omit":c.credentials="same-origin",c}function s(i){if(i.ep)return;i.ep=!0;const c=n(i);fetch(i.href,c)}})();function Y(){}function Me(e){return e()}function Ee(){return Object.create(null)}function G(e){e.forEach(Me)}function we(e){return typeof e=="function"}function X(e,t){return e!=e?t==t:e!==t||e&&typeof e=="object"||typeof e=="function"}let le;function je(e,t){return le||(le=document.createElement("a")),le.href=t,e===le.href}function Fe(e){return Object.keys(e).length===0}function B(e){return e==null?"":e}function Be(e){return e&&we(e.destroy)?e.destroy:Y}function l(e,t){e.appendChild(t)}function H(e,t,n){e.insertBefore(t,n||null)}function z(e){e.parentNode&&e.parentNode.removeChild(e)}function Oe(e,t){for(let n=0;n<e.length;n+=1)e[n]&&e[n].d(t)}function f(e){return document.createElement(e)}function Q(e){return document.createTextNode(e)}function C(){return Q(" ")}function A(e,t,n,s){return e.addEventListener(t,n,s),()=>e.removeEventListener(t,n,s)}function u(e,t,n){n==null?e.removeAttribute(t):e.getAttribute(t)!==n&&e.setAttribute(t,n)}function V(e){return e===""?null:+e}function Ue(e){return Array.from(e.childNodes)}function fe(e,t){t=""+t,e.wholeText!==t&&(e.data=t)}function U(e,t){e.value=t==null?"":t}function W(e,t,n,s){n===null?e.style.removeProperty(t):e.style.setProperty(t,n,s?"important":"")}function oe(e,t,n){e.classList[n?"add":"remove"](t)}function Ye(e,t,{bubbles:n=!1,cancelable:s=!1}={}){const i=document.createEvent("CustomEvent");return i.initCustomEvent(e,n,s,t),i}let re;function se(e){re=e}function Ge(){if(!re)throw new Error("Function called outside component initialization");return re}function We(){const e=Ge();return(t,n,{cancelable:s=!1}={})=>{const i=e.$$.callbacks[t];if(i){const c=Ye(t,n,{cancelable:s});return i.slice().forEach(r=>{r.call(e,c)}),!c.defaultPrevented}return!0}}const ne=[],de=[],ce=[],_e=[],Je=Promise.resolve();let ge=!1;function Qe(){ge||(ge=!0,Je.then(Ae))}function ve(e){ce.push(e)}function ze(e){_e.push(e)}const pe=new Set;let ue=0;function Ae(){const e=re;do{for(;ue<ne.length;){const t=ne[ue];ue++,se(t),Ve(t.$$)}for(se(null),ne.length=0,ue=0;de.length;)de.pop()();for(let t=0;t<ce.length;t+=1){const n=ce[t];pe.has(n)||(pe.add(n),n())}ce.length=0}while(ne.length);for(;_e.length;)_e.pop()();ge=!1,pe.clear(),se(e)}function Ve(e){if(e.fragment!==null){e.update(),G(e.before_update);const t=e.dirty;e.dirty=[-1],e.fragment&&e.fragment.p(e.ctx,t),e.after_update.forEach(ve)}}const ae=new Set;let J;function ye(){J={r:0,c:[],p:J}}function be(){J.r||G(J.c),J=J.p}function I(e,t){e&&e.i&&(ae.delete(e),e.i(t))}function F(e,t,n,s){if(e&&e.o){if(ae.has(e))return;ae.add(e),J.c.push(()=>{ae.delete(e),s&&(n&&e.d(1),s())}),e.o(t)}else s&&s()}function Le(e,t,n){const s=e.$$.props[t];s!==void 0&&(e.$$.bound[s]=n,n(e.$$.ctx[s]))}function ie(e){e&&e.c()}function Z(e,t,n,s){const{fragment:i,after_update:c}=e.$$;i&&i.m(t,n),s||ve(()=>{const r=e.$$.on_mount.map(Me).filter(we);e.$$.on_destroy?e.$$.on_destroy.push(...r):G(r),e.$$.on_mount=[]}),c.forEach(ve)}function x(e,t){const n=e.$$;n.fragment!==null&&(G(n.on_destroy),n.fragment&&n.fragment.d(t),n.on_destroy=n.fragment=null,n.ctx=[])}function Xe(e,t){e.$$.dirty[0]===-1&&(ne.push(e),Qe(),e.$$.dirty.fill(0)),e.$$.dirty[t/31|0]|=1<<t%31}function ee(e,t,n,s,i,c,r,o=[-1]){const a=re;se(e);const d=e.$$={fragment:null,ctx:[],props:c,update:Y,not_equal:i,bound:Ee(),on_mount:[],on_destroy:[],on_disconnect:[],before_update:[],after_update:[],context:new Map(t.context||(a?a.$$.context:[])),callbacks:Ee(),dirty:o,skip_bound:!1,root:t.target||a.$$.root};r&&r(d.root);let v=!1;if(d.ctx=n?n(e,t.props||{},(p,w,...k)=>{const q=k.length?k[0]:w;return d.ctx&&i(d.ctx[p],d.ctx[p]=q)&&(!d.skip_bound&&d.bound[p]&&d.bound[p](q),v&&Xe(e,p)),w}):[],d.update(),v=!0,G(d.before_update),d.fragment=s?s(d.ctx):!1,t.target){if(t.hydrate){const p=Ue(t.target);d.fragment&&d.fragment.l(p),p.forEach(z)}else d.fragment&&d.fragment.c();t.intro&&I(e.$$.fragment),Z(e,t.target,t.anchor,t.customElement),Ae()}se(a)}class te{$destroy(){x(this,1),this.$destroy=Y}$on(t,n){if(!we(n))return Y;const s=this.$$.callbacks[t]||(this.$$.callbacks[t]=[]);return s.push(n),()=>{const i=s.indexOf(n);i!==-1&&s.splice(i,1)}}$set(t){this.$$set&&!Fe(t)&&(this.$$.skip_bound=!0,this.$$set(t),this.$$.skip_bound=!1)}}const Ze="/timecard/assets/icon.110bac24.png";function Ie(e){const t=e.getUTCHours().toString().padStart(2,"0"),n=e.getUTCMinutes().toString().padStart(2,"0"),s=e.getUTCSeconds().toString().padStart(2,"0");return`${t}:${n}:${s}`}function Te(e){if(!e||(e=e.trim(),e.length===0))return;const t=e.split(":");if(t.length!==3||t.some(s=>s.length===0))return;const n=new Date(`1970-01-01 ${e}`);if(!isNaN(n.valueOf()))return n}class xe{constructor(){L(this,"tests",[])}get score(){let t=0;for(let n of this.tests)t+=n.score;return t}get scoreString(){return Ie(new Date(this.score*1e3))}}class he{constructor(){L(this,"enter");L(this,"exit")}static fromTimes(t,n){const s=Te(t),i=Te(n);if(!s||!i||i<s)return;const c=new he;return c.enter=s,c.exit=i,c}get score(){return(this.exit.valueOf()-this.enter.valueOf())/1e3}get scoreString(){return Ie(new Date(this.exit.valueOf()-this.enter.valueOf()))}}function et(e){let t,n,s=e[1]+1+"",i,c,r,o,a,d,v,p,w,k,q,P,T,_;return{c(){t=f("tr"),n=f("td"),i=Q(s),c=C(),r=f("button"),r.textContent="\u274C",o=C(),a=f("td"),d=f("input"),v=C(),p=f("td"),w=f("input"),k=C(),q=f("td"),P=Q(e[2]),u(n,"class","svelte-1nqtemt"),u(d,"placeholder","hh:mm:ss"),u(d,"size","8"),u(d,"class","enterTime"),u(a,"class","svelte-1nqtemt"),u(w,"placeholder","hh:mm:ss"),u(w,"size","8"),u(w,"class","exitTime"),u(p,"class","svelte-1nqtemt"),u(q,"class","svelte-1nqtemt")},m(h,g){H(h,t,g),l(t,n),l(n,i),l(n,c),l(n,r),l(t,o),l(t,a),l(a,d),U(d,e[0].enter),l(t,v),l(t,p),l(p,w),U(w,e[0].exit),l(t,k),l(t,q),l(q,P),T||(_=[A(r,"click",e[3]),A(d,"input",e[4]),A(w,"input",e[5])],T=!0)},p(h,[g]){g&2&&s!==(s=h[1]+1+"")&&fe(i,s),g&1&&d.value!==h[0].enter&&U(d,h[0].enter),g&1&&w.value!==h[0].exit&&U(w,h[0].exit),g&4&&fe(P,h[2])},i:Y,o:Y,d(h){h&&z(t),T=!1,G(_)}}}function tt(e,t,n){let s;const i=We();function c(){i("delete",{index:o})}let{testDatum:r}=t,{index:o}=t;function a(p){const w=he.fromTimes(p.enter,p.exit);return w?w.scoreString:""}function d(){r.enter=this.value,n(0,r)}function v(){r.exit=this.value,n(0,r)}return e.$$set=p=>{"testDatum"in p&&n(0,r=p.testDatum),"index"in p&&n(1,o=p.index)},e.$$.update=()=>{e.$$.dirty&1&&n(2,s=a(r))},[r,o,s,c,d,v]}class nt extends te{constructor(t){super(),ee(this,t,tt,et,X,{testDatum:0,index:1})}}function qe(e,t,n){const s=e.slice();return s[7]=t[n],s[8]=t,s[9]=n,s}function Ce(e){let t,n,s;function i(r){e[5](r,e[7],e[8],e[9])}let c={index:e[9]};return e[7]!==void 0&&(c.testDatum=e[7]),t=new nt({props:c}),de.push(()=>Le(t,"testDatum",i)),t.$on("delete",e[4]),{c(){ie(t.$$.fragment)},m(r,o){Z(t,r,o),s=!0},p(r,o){e=r;const a={};!n&&o&1&&(n=!0,a.testDatum=e[7],ze(()=>n=!1)),t.$set(a)},i(r){s||(I(t.$$.fragment,r),s=!0)},o(r){F(t.$$.fragment,r),s=!1},d(r){x(t,r)}}}function st(e){let t,n,s,i,c,r,o,a,d,v,p,w,k,q,P,T,_,h,g,y=e[0],m=[];for(let S=0;S<y.length;S+=1)m[S]=Ce(qe(e,y,S));const M=S=>F(m[S],1,1,()=>{m[S]=null});return{c(){t=f("table"),n=f("thead"),n.innerHTML=`<tr><th class="svelte-1670vm0">Test #</th> 
            <th class="svelte-1670vm0">Time In</th> 
            <th class="svelte-1670vm0">Time Out</th> 
            <th class="svelte-1670vm0">Score</th></tr>`,s=C(),i=f("tbody");for(let S=0;S<m.length;S+=1)m[S].c();c=C(),r=f("tfoot"),o=f("tr"),a=f("th"),d=f("div"),v=Q("Total Score: "),p=f("span"),w=Q(e[1]),k=C(),q=f("button"),q.textContent="Add a Test",P=C(),T=f("button"),T.textContent="Reset",u(p,"class","score"),u(d,"id","overallScore"),u(q,"id","addTest"),u(T,"id","reset"),u(a,"colspan","4"),u(a,"class","svelte-1670vm0"),u(r,"class","svelte-1670vm0"),u(t,"class","svelte-1670vm0")},m(S,j){H(S,t,j),l(t,n),l(t,s),l(t,i);for(let E=0;E<m.length;E+=1)m[E].m(i,null);l(t,c),l(t,r),l(r,o),l(o,a),l(a,d),l(d,v),l(d,p),l(p,w),l(a,k),l(a,q),l(a,P),l(a,T),_=!0,h||(g=[A(q,"click",e[2]),A(T,"click",e[3])],h=!0)},p(S,[j]){if(j&17){y=S[0];let E;for(E=0;E<y.length;E+=1){const b=qe(S,y,E);m[E]?(m[E].p(b,j),I(m[E],1)):(m[E]=Ce(b),m[E].c(),I(m[E],1),m[E].m(i,null))}for(ye(),E=y.length;E<m.length;E+=1)M(E);be()}(!_||j&2)&&fe(w,S[1])},i(S){if(!_){for(let j=0;j<y.length;j+=1)I(m[j]);_=!0}},o(S){m=m.filter(Boolean);for(let j=0;j<m.length;j+=1)F(m[j]);_=!1},d(S){S&&z(t),Oe(m,S),h=!1,G(g)}}}function Pe(e){const t=[];for(let n=0;n<e;n++)t.push({enter:"",exit:""});return t}function rt(e,t,n){let s,i=Pe(7);function c(){n(0,i[i.length]={enter:"",exit:""},i)}function r(){window.confirm("Are you sure you want to reset the Sprint Enduro?")&&n(0,i=Pe(7))}function o(){let v=new xe;for(let p of i){const w=he.fromTimes(p.enter,p.exit);w&&v.tests.push(w)}return v.scoreString}function a(v){window.confirm(`You sure you want to delete test ${v.detail.index+1}?`)&&n(0,i=i.filter((p,w)=>w!==v.detail.index))}function d(v,p,w,k){w[k]=v,n(0,i)}return e.$$.update=()=>{e.$$.dirty&1&&n(1,s=o())},[i,s,c,r,a,d]}class it extends te{constructor(t){super(),ee(this,t,rt,st,X,{})}}var O=(e=>(e[e.Start=0]="Start",e[e.Known=1]="Known",e[e.Secret=2]="Secret",e[e.Emergency=3]="Emergency",e))(O||{});class ke{constructor(t){L(this,"type",0);L(this,"minute",0);L(this,"seconds",0);this.minute=t}points(t){let n=0;return this.minute>=t&&(n=this.minute-t),n}disqualified(t){return!1}}class Re extends ke{constructor(n){super(n);L(this,"type",1)}disqualified(n){return n-this.minute>15}}class Se{constructor(t){L(this,"type",2);L(this,"minute",0);L(this,"seconds",0);this.minute=t}points(t){let n=0;return this.minute>=t?n=this.minute-t:n=5*(t-this.minute)-3,n}disqualified(t){return!1}}class me extends Se{constructor(n,s){super(n);L(this,"type",3);this.seconds=s}emergencyPoints(n){return this.minute===n?Math.abs(this.seconds-30):this.minute>n?30+this.seconds+60*(this.minute-n-1):30+(60-this.seconds)+60*(n-this.minute-1)}}class lt{constructor(t){L(this,"riderMinute",1);L(this,"checkpoints",[]);console.assert(t>=1),this.riderMinute=t}get points(){return this.checkpoints.map(t=>t.points(this.riderMinute)).reduce((t,n)=>t+n,0)}get emergencyPoints(){return this.checkpoints.map(t=>t instanceof me?t.emergencyPoints(this.riderMinute):0).reduce((t,n)=>t+n,0)}get disqualified(){return this.checkpoints.some(t=>t.disqualified(this.riderMinute))}}function Ne(e){let t,n,s,i;return{c(){t=f("input"),u(t,"class",n=B(e[2])+" svelte-3jwvov"),u(t,"size","2"),W(t,"width","2em"),u(t,"type","number"),u(t,"pattern","[0-9]*"),u(t,"min","0"),u(t,"max","59")},m(c,r){H(c,t,r),U(t,e[0].seconds),s||(i=A(t,"input",e[9]),s=!0)},p(c,r){r&4&&n!==(n=B(c[2])+" svelte-3jwvov")&&u(t,"class",n),r&1&&V(t.value)!==c[0].seconds&&U(t,c[0].seconds)},d(c){c&&z(t),s=!1,i()}}}function ot(e){let t,n,s,i,c,r,o=e[1]+1+"",a,d,v,p,w,k,q,P,T,_,h,g,y,m,M,S,j,E,b,D,$,N=e[0].type===O.Emergency&&Ne(e);return{c(){t=f("tr"),n=f("td"),s=f("img"),c=C(),r=f("td"),a=Q(o),d=C(),v=f("td"),p=f("input"),k=C(),q=f("td"),N&&N.c(),P=C(),T=f("td"),_=f("input"),g=C(),y=f("td"),m=f("input"),S=C(),j=f("td"),E=f("input"),je(s.src,i=e[3])||u(s,"src",i),u(s,"alt","Flag"),u(s,"class","svelte-3jwvov"),u(n,"class","svelte-3jwvov"),u(r,"class","svelte-3jwvov"),u(p,"class",w=B(e[2])+" svelte-3jwvov"),u(p,"size","3"),W(p,"width","2em"),u(p,"type","number"),u(v,"class","svelte-3jwvov"),u(q,"class","svelte-3jwvov"),u(_,"class",h=B(e[2])+" svelte-3jwvov"),_.disabled=!0,_.value=e[5],u(_,"size","3"),W(_,"width","2em"),u(T,"class","svelte-3jwvov"),u(m,"class",M=B(e[2])+" svelte-3jwvov"),m.disabled=!0,m.value=e[4],u(m,"size","4"),W(m,"width","3em"),u(y,"class","svelte-3jwvov"),u(E,"type","checkbox"),u(E,"class","svelte-3jwvov"),u(j,"class","svelte-3jwvov"),u(t,"class",b=B(e[2])+" svelte-3jwvov")},m(K,R){H(K,t,R),l(t,n),l(n,s),l(t,c),l(t,r),l(r,a),l(t,d),l(t,v),l(v,p),U(p,e[0].minute),l(t,k),l(t,q),N&&N.m(q,null),l(t,P),l(t,T),l(T,_),l(t,g),l(t,y),l(y,m),l(t,S),l(t,j),l(j,E),E.checked=e[0].drop,D||($=[A(s,"click",e[6]),A(s,"keydown",ct),A(p,"input",e[8]),Be(ut.call(null,p)),A(E,"change",e[10])],D=!0)},p(K,[R]){R&8&&!je(s.src,i=K[3])&&u(s,"src",i),R&2&&o!==(o=K[1]+1+"")&&fe(a,o),R&4&&w!==(w=B(K[2])+" svelte-3jwvov")&&u(p,"class",w),R&1&&V(p.value)!==K[0].minute&&U(p,K[0].minute),K[0].type===O.Emergency?N?N.p(K,R):(N=Ne(K),N.c(),N.m(q,null)):N&&(N.d(1),N=null),R&4&&h!==(h=B(K[2])+" svelte-3jwvov")&&u(_,"class",h),R&32&&_.value!==K[5]&&(_.value=K[5]),R&4&&M!==(M=B(K[2])+" svelte-3jwvov")&&u(m,"class",M),R&16&&m.value!==K[4]&&(m.value=K[4]),R&1&&(E.checked=K[0].drop),R&4&&b!==(b=B(K[2])+" svelte-3jwvov")&&u(t,"class",b)},i:Y,o:Y,d(K){K&&z(t),N&&N.d(),D=!1,G($)}}}function ut(e){e.focus()}const ct=()=>{};function at(e,t,n){let s,i,c,r,{check:o}=t,{index:a}=t,{riderMinute:d}=t;function v(h){const g=parseInt(h.minute);if(isNaN(g))return null;switch(h.type){case O.Emergency:const y=parseInt(h.seconds);if(!isNaN(y))return new me(g,y);break;case O.Known:return new Re(g);case O.Secret:return new Se(g);case O.Start:return new ke(g)}return null}function p(h,g){const y=v(h);return y?y.points(g):0}function w(h,g){if(h.type===O.Emergency){const y=parseInt(h.minute),m=parseInt(h.seconds);if(!isNaN(y+m))return new me(y,m).emergencyPoints(g)}return""}function k(h){return{[O.Start]:"./images/start.gif",[O.Known]:"./images/known.gif",[O.Secret]:"./images/secret.gif",[O.Emergency]:"./images/emergency.gif"}[h.type]}function q(){n(0,o.type=(o.type+1)%4,o)}function P(){o.minute=V(this.value),n(0,o)}function T(){o.seconds=V(this.value),n(0,o)}function _(){o.drop=this.checked,n(0,o)}return e.$$set=h=>{"check"in h&&n(0,o=h.check),"index"in h&&n(1,a=h.index),"riderMinute"in h&&n(7,d=h.riderMinute)},e.$$.update=()=>{e.$$.dirty&129&&n(5,s=p(o,d)),e.$$.dirty&129&&n(4,i=w(o,d)),e.$$.dirty&1&&n(3,c=k(o)),e.$$.dirty&1&&n(2,r=o.drop?"dropped":"")},[o,a,r,c,i,s,q,d,P,T,_]}class ft extends te{constructor(t){super(),ee(this,t,at,ot,X,{check:0,index:1,riderMinute:7})}}function dt(e){let t,n,s,i,c,r,o,a,d,v,p,w,k,q,P,T;return{c(){t=f("table"),n=f("tbody"),s=f("tr"),s.innerHTML=`<th class="svelte-l64quj">#<br/>Checks</th> 
            <th class="svelte-l64quj">Points</th> 
            <th class="svelte-l64quj">Emergency<br/>Points</th> 
            <th class="svelte-l64quj">Disqualified</th>`,i=C(),c=f("tr"),r=f("td"),o=f("input"),a=C(),d=f("td"),v=f("input"),p=C(),w=f("td"),k=f("input"),q=C(),P=f("td"),T=f("input"),u(o,"id","checks"),o.disabled=!0,o.value=e[0],u(o,"size","2"),W(o,"width","2em"),u(o,"class","svelte-l64quj"),u(r,"class","svelte-l64quj"),u(v,"id","points"),v.disabled=!0,v.value=e[1],u(v,"size","4"),W(v,"width","3em"),u(v,"class","svelte-l64quj"),u(d,"class","svelte-l64quj"),u(k,"id","emergencyPoints"),k.disabled=!0,k.value=e[2],u(k,"size","4"),W(k,"width","3em"),u(k,"class","svelte-l64quj"),u(w,"class","svelte-l64quj"),u(T,"id","disqualified"),T.disabled=!0,T.value=e[3],u(T,"size","4"),W(T,"width","3em"),u(T,"class","svelte-l64quj"),u(P,"class","svelte-l64quj"),W(t,"margin","auto")},m(_,h){H(_,t,h),l(t,n),l(n,s),l(n,i),l(n,c),l(c,r),l(r,o),l(c,a),l(c,d),l(d,v),l(c,p),l(c,w),l(w,k),l(c,q),l(c,P),l(P,T)},p(_,[h]){h&1&&o.value!==_[0]&&(o.value=_[0]),h&2&&v.value!==_[1]&&(v.value=_[1]),h&4&&k.value!==_[2]&&(k.value=_[2]),h&8&&T.value!==_[3]&&(T.value=_[3])},i:Y,o:Y,d(_){_&&z(t)}}}function mt(e,t,n){let{totalChecks:s}=t,{points:i}=t,{emergencyPoints:c}=t,{disqualified:r}=t;return e.$$set=o=>{"totalChecks"in o&&n(0,s=o.totalChecks),"points"in o&&n(1,i=o.points),"emergencyPoints"in o&&n(2,c=o.emergencyPoints),"disqualified"in o&&n(3,r=o.disqualified)},[s,i,c,r]}class ht extends te{constructor(t){super(),ee(this,t,mt,dt,X,{totalChecks:0,points:1,emergencyPoints:2,disqualified:3})}}function De(e,t,n){const s=e.slice();return s[16]=t[n],s[17]=t,s[18]=n,s}function Ke(e){let t,n,s;function i(r){e[9](r,e[16],e[17],e[18])}let c={riderMinute:e[0],index:e[18]};return e[16]!==void 0&&(c.check=e[16]),t=new ft({props:c}),de.push(()=>Le(t,"check",i)),{c(){ie(t.$$.fragment)},m(r,o){Z(t,r,o),s=!0},p(r,o){e=r;const a={};o&1&&(a.riderMinute=e[0]),!n&&o&2&&(n=!0,a.check=e[16],ze(()=>n=!1)),t.$set(a)},i(r){s||(I(t.$$.fragment,r),s=!0)},o(r){F(t.$$.fragment,r),s=!1},d(r){x(t,r)}}}function pt(e){let t,n,s,i,c,r,o,a,d,v,p,w,k,q,P,T,_,h,g,y,m,M,S=e[1],j=[];for(let b=0;b<S.length;b+=1)j[b]=Ke(De(e,S,b));const E=b=>F(j[b],1,1,()=>{j[b]=null});return k=new ht({props:{totalChecks:e[3],points:e[5],emergencyPoints:e[4],disqualified:e[2]}}),{c(){t=f("div"),n=Q("Rider Minute: "),s=f("input"),i=C(),c=f("table"),r=f("thead"),r.innerHTML=`<tr><th class="svelte-1976845"></th> 
            <th class="svelte-1976845">#</th> 
            <th class="svelte-1976845">Minute</th> 
            <th class="svelte-1976845">Second</th> 
            <th class="svelte-1976845">Points</th> 
            <th class="svelte-1976845">Emergency<br/>Points</th> 
            <th class="svelte-1976845">Drop</th></tr>`,o=C(),a=f("tbody");for(let b=0;b<j.length;b+=1)j[b].c();d=C(),v=f("tfoot"),p=f("tr"),w=f("td"),ie(k.$$.fragment),q=C(),P=f("tr"),T=f("th"),_=f("button"),_.textContent="Add a Check",h=C(),g=f("button"),g.textContent="Reset",u(s,"type","number"),u(s,"pattern","[0-9]*"),u(s,"size","3"),u(s,"min","1"),u(t,"id","riderMinute"),u(t,"class","svelte-1976845"),u(w,"colspan","7"),u(_,"id","addCheck"),u(g,"id","reset"),u(T,"colspan","7"),u(T,"class","svelte-1976845"),u(v,"class","svelte-1976845"),u(c,"class","svelte-1976845")},m(b,D){H(b,t,D),l(t,n),l(t,s),U(s,e[0]),H(b,i,D),H(b,c,D),l(c,r),l(c,o),l(c,a);for(let $=0;$<j.length;$+=1)j[$].m(a,null);l(c,d),l(c,v),l(v,p),l(p,w),Z(k,w,null),l(v,q),l(v,P),l(P,T),l(T,_),l(T,h),l(T,g),y=!0,m||(M=[A(s,"input",e[8]),A(_,"click",e[6]),A(g,"click",e[7])],m=!0)},p(b,[D]){if(D&1&&V(s.value)!==b[0]&&U(s,b[0]),D&3){S=b[1];let N;for(N=0;N<S.length;N+=1){const K=De(b,S,N);j[N]?(j[N].p(K,D),I(j[N],1)):(j[N]=Ke(K),j[N].c(),I(j[N],1),j[N].m(a,null))}for(ye(),N=S.length;N<j.length;N+=1)E(N);be()}const $={};D&8&&($.totalChecks=b[3]),D&32&&($.points=b[5]),D&16&&($.emergencyPoints=b[4]),D&4&&($.disqualified=b[2]),k.$set($)},i(b){if(!y){for(let D=0;D<S.length;D+=1)I(j[D]);I(k.$$.fragment,b),y=!0}},o(b){j=j.filter(Boolean);for(let D=0;D<j.length;D+=1)F(j[D]);F(k.$$.fragment,b),y=!1},d(b){b&&z(t),b&&z(i),b&&z(c),Oe(j,b),x(k),m=!1,G(M)}}}function _t(e){return e.length-e.filter(t=>t.drop).length}function gt(e,t,n){let s,i,c,r,o=1,a=d(1);function d(g){const y=[];for(let m=0;m<g;m++)y.push({type:O.Secret,minute:o,seconds:30,drop:!1});return y}function v(){console.log(o),n(1,a[a.length]={type:O.Secret,minute:o,seconds:30,drop:!1},a)}function p(){window.confirm("Are you sure you want to reset the score card?")&&(n(0,o=1),n(1,a=d(1)))}function w(g){const y=parseInt(g.minute);if(isNaN(y))return null;switch(g.type){case O.Emergency:const m=parseInt(g.seconds);if(!isNaN(m))return new me(y,m);break;case O.Known:return new Re(y);case O.Secret:return new Se(y);case O.Start:return new ke(y)}return null}function k(g,y){if(g<1)return null;const m=new lt(g);for(let M of y){const S=w(M);!M.drop&&S&&m.checkpoints.push(S)}return m}function q(g,y){const m=k(g,y);return m?m.points:"0"}function P(g,y){const m=k(g,y);return m?m.emergencyPoints:"0"}function T(g,y){const m=k(g,y);return m&&m.disqualified?"YES":"NO"}function _(){o=V(this.value),n(0,o)}function h(g,y,m,M){m[M]=g,n(1,a)}return e.$$.update=()=>{e.$$.dirty&3&&n(5,s=q(o,a)),e.$$.dirty&3&&n(4,i=P(o,a)),e.$$.dirty&2&&n(3,c=_t(a)),e.$$.dirty&3&&n(2,r=T(o,a))},[o,a,r,c,i,s,v,p,_,h]}class vt extends te{constructor(t){super(),ee(this,t,gt,pt,X,{})}}function wt(e){let t,n,s,i,c,r,o;return r=new vt({}),{c(){t=f("div"),n=f("h2"),n.textContent="Time Keeper Enduro",s=C(),i=f("p"),i.textContent="Tap Flags to change check type.",c=C(),ie(r.$$.fragment),u(t,"id","timeKeeper")},m(a,d){H(a,t,d),l(t,n),l(t,s),l(t,i),l(t,c),Z(r,t,null),o=!0},i(a){o||(I(r.$$.fragment,a),o=!0)},o(a){F(r.$$.fragment,a),o=!1},d(a){a&&z(t),x(r)}}}function yt(e){let t,n,s,i,c,r,o;return r=new it({}),{c(){t=f("div"),n=f("h2"),n.textContent="Sprint Enduro",s=C(),i=f("p"),i.innerHTML="Enter <b>Time In</b> and <b>Time Out</b> as HH:MM:SS.",c=C(),ie(r.$$.fragment),u(t,"id","sprint")},m(a,d){H(a,t,d),l(t,n),l(t,s),l(t,i),l(t,c),Z(r,t,null),o=!0},i(a){o||(I(r.$$.fragment,a),o=!0)},o(a){F(r.$$.fragment,a),o=!1},d(a){a&&z(t),x(r)}}}function bt(e){let t,n,s,i,c,r,o,a,d,v,p,w,k,q,P,T,_,h,g,y,m;const M=[yt,wt],S=[];function j(E,b){return E[0]==="sprint"?0:1}return _=j(e),h=S[_]=M[_](e),{c(){t=f("meta"),n=f("meta"),s=f("link"),i=f("meta"),c=f("link"),r=C(),o=f("main"),a=f("center"),d=f("h1"),d.textContent="Enduro Time Card",v=C(),p=f("p"),p.textContent=`You can verify your Enduro score cards using this tool. Why would
      you do that?  Because races are busy places and with hundreds of riders,
      those hard working club members sometimes enter something incorrectly.`,w=C(),k=f("button"),k.textContent="Sprint",q=C(),P=f("button"),P.textContent="Time Keeper",T=C(),h.c(),u(t,"name","apple-mobile-web-app-capable"),u(t,"content","yes"),u(n,"name","viewport"),u(n,"content","width=device-width, initial-scale=1, maximum-scale=1"),u(s,"rel","apple-touch-icon"),u(s,"href",Ze),u(i,"name","apple-mobile-web-app-title"),u(i,"content","Enduro Time Card"),u(c,"red","manifest"),u(c,"crossorigin","use-credentials"),u(c,"href","manifest.json"),u(k,"class","svelte-py93mz"),oe(k,"selected",e[0]==="sprint"),u(P,"class","svelte-py93mz"),oe(P,"selected",e[0]==="timeKeeper")},m(E,b){l(document.head,t),l(document.head,n),l(document.head,s),l(document.head,i),l(document.head,c),H(E,r,b),H(E,o,b),l(o,a),l(a,d),l(a,v),l(a,p),l(a,w),l(a,k),l(a,q),l(a,P),l(a,T),S[_].m(a,null),g=!0,y||(m=[A(k,"click",e[2]),A(P,"click",e[3])],y=!0)},p(E,[b]){(!g||b&1)&&oe(k,"selected",E[0]==="sprint"),(!g||b&1)&&oe(P,"selected",E[0]==="timeKeeper");let D=_;_=j(E),_!==D&&(ye(),F(S[D],1,1,()=>{S[D]=null}),be(),h=S[_],h||(h=S[_]=M[_](E),h.c()),I(h,1),h.m(a,null))},i(E){g||(I(h),g=!0)},o(E){F(h),g=!1},d(E){z(t),z(n),z(s),z(i),z(c),E&&z(r),E&&z(o),S[_].d(),y=!1,G(m)}}}function kt(e,t,n){let s="sprint";function i(o){s!==o&&window.confirm("Switching time cards will lose all data. Are you sure?")&&n(0,s=o)}return[s,i,()=>i("sprint"),()=>i("timeKeeper")]}class St extends te{constructor(t){super(),ee(this,t,kt,bt,X,{})}}new St({target:document.getElementById("app")});
