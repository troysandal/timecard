var $e=Object.defineProperty;var He=(e,t,n)=>t in e?$e(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n;var L=(e,t,n)=>(He(e,typeof t!="symbol"?t+"":t,n),n);(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const i of document.querySelectorAll('link[rel="modulepreload"]'))s(i);new MutationObserver(i=>{for(const c of i)if(c.type==="childList")for(const r of c.addedNodes)r.tagName==="LINK"&&r.rel==="modulepreload"&&s(r)}).observe(document,{childList:!0,subtree:!0});function n(i){const c={};return i.integrity&&(c.integrity=i.integrity),i.referrerpolicy&&(c.referrerPolicy=i.referrerpolicy),i.crossorigin==="use-credentials"?c.credentials="include":i.crossorigin==="anonymous"?c.credentials="omit":c.credentials="same-origin",c}function s(i){if(i.ep)return;i.ep=!0;const c=n(i);fetch(i.href,c)}})();function Y(){}function Me(e){return e()}function Ee(){return Object.create(null)}function G(e){e.forEach(Me)}function we(e){return typeof e=="function"}function V(e,t){return e!=e?t==t:e!==t||e&&typeof e=="object"||typeof e=="function"}let ie;function je(e,t){return ie||(ie=document.createElement("a")),ie.href=t,e===ie.href}function Fe(e){return Object.keys(e).length===0}function B(e){return e==null?"":e}function Be(e){return e&&we(e.destroy)?e.destroy:Y}function l(e,t){e.appendChild(t)}function H(e,t,n){e.insertBefore(t,n||null)}function z(e){e.parentNode&&e.parentNode.removeChild(e)}function Oe(e,t){for(let n=0;n<e.length;n+=1)e[n]&&e[n].d(t)}function f(e){return document.createElement(e)}function Q(e){return document.createTextNode(e)}function C(){return Q(" ")}function A(e,t,n,s){return e.addEventListener(t,n,s),()=>e.removeEventListener(t,n,s)}function u(e,t,n){n==null?e.removeAttribute(t):e.getAttribute(t)!==n&&e.setAttribute(t,n)}function ae(e){return e===""?null:+e}function Ue(e){return Array.from(e.childNodes)}function fe(e,t){t=""+t,e.wholeText!==t&&(e.data=t)}function U(e,t){e.value=t==null?"":t}function W(e,t,n,s){n===null?e.style.removeProperty(t):e.style.setProperty(t,n,s?"important":"")}function le(e,t,n){e.classList[n?"add":"remove"](t)}function Ye(e,t,{bubbles:n=!1,cancelable:s=!1}={}){const i=document.createEvent("CustomEvent");return i.initCustomEvent(e,n,s,t),i}let se;function ne(e){se=e}function Ge(){if(!se)throw new Error("Function called outside component initialization");return se}function We(){const e=Ge();return(t,n,{cancelable:s=!1}={})=>{const i=e.$$.callbacks[t];if(i){const c=Ye(t,n,{cancelable:s});return i.slice().forEach(r=>{r.call(e,c)}),!c.defaultPrevented}return!0}}const te=[],de=[],ue=[],_e=[],Je=Promise.resolve();let ge=!1;function Qe(){ge||(ge=!0,Je.then(Ae))}function ve(e){ue.push(e)}function ze(e){_e.push(e)}const pe=new Set;let oe=0;function Ae(){const e=se;do{for(;oe<te.length;){const t=te[oe];oe++,ne(t),Ve(t.$$)}for(ne(null),te.length=0,oe=0;de.length;)de.pop()();for(let t=0;t<ue.length;t+=1){const n=ue[t];pe.has(n)||(pe.add(n),n())}ue.length=0}while(te.length);for(;_e.length;)_e.pop()();ge=!1,pe.clear(),ne(e)}function Ve(e){if(e.fragment!==null){e.update(),G(e.before_update);const t=e.dirty;e.dirty=[-1],e.fragment&&e.fragment.p(e.ctx,t),e.after_update.forEach(ve)}}const ce=new Set;let J;function ye(){J={r:0,c:[],p:J}}function be(){J.r||G(J.c),J=J.p}function I(e,t){e&&e.i&&(ce.delete(e),e.i(t))}function F(e,t,n,s){if(e&&e.o){if(ce.has(e))return;ce.add(e),J.c.push(()=>{ce.delete(e),s&&(n&&e.d(1),s())}),e.o(t)}else s&&s()}function Le(e,t,n){const s=e.$$.props[t];s!==void 0&&(e.$$.bound[s]=n,n(e.$$.ctx[s]))}function re(e){e&&e.c()}function X(e,t,n,s){const{fragment:i,after_update:c}=e.$$;i&&i.m(t,n),s||ve(()=>{const r=e.$$.on_mount.map(Me).filter(we);e.$$.on_destroy?e.$$.on_destroy.push(...r):G(r),e.$$.on_mount=[]}),c.forEach(ve)}function Z(e,t){const n=e.$$;n.fragment!==null&&(G(n.on_destroy),n.fragment&&n.fragment.d(t),n.on_destroy=n.fragment=null,n.ctx=[])}function Xe(e,t){e.$$.dirty[0]===-1&&(te.push(e),Qe(),e.$$.dirty.fill(0)),e.$$.dirty[t/31|0]|=1<<t%31}function x(e,t,n,s,i,c,r,o=[-1]){const a=se;ne(e);const d=e.$$={fragment:null,ctx:[],props:c,update:Y,not_equal:i,bound:Ee(),on_mount:[],on_destroy:[],on_disconnect:[],before_update:[],after_update:[],context:new Map(t.context||(a?a.$$.context:[])),callbacks:Ee(),dirty:o,skip_bound:!1,root:t.target||a.$$.root};r&&r(d.root);let w=!1;if(d.ctx=n?n(e,t.props||{},(p,y,...k)=>{const q=k.length?k[0]:y;return d.ctx&&i(d.ctx[p],d.ctx[p]=q)&&(!d.skip_bound&&d.bound[p]&&d.bound[p](q),w&&Xe(e,p)),y}):[],d.update(),w=!0,G(d.before_update),d.fragment=s?s(d.ctx):!1,t.target){if(t.hydrate){const p=Ue(t.target);d.fragment&&d.fragment.l(p),p.forEach(z)}else d.fragment&&d.fragment.c();t.intro&&I(e.$$.fragment),X(e,t.target,t.anchor,t.customElement),Ae()}ne(a)}class ee{$destroy(){Z(this,1),this.$destroy=Y}$on(t,n){if(!we(n))return Y;const s=this.$$.callbacks[t]||(this.$$.callbacks[t]=[]);return s.push(n),()=>{const i=s.indexOf(n);i!==-1&&s.splice(i,1)}}$set(t){this.$$set&&!Fe(t)&&(this.$$.skip_bound=!0,this.$$set(t),this.$$.skip_bound=!1)}}const Ze="/timecard/assets/icon.110bac24.png";function Ie(e){const t=e.getUTCHours().toString().padStart(2,"0"),n=e.getUTCMinutes().toString().padStart(2,"0"),s=e.getUTCSeconds().toString().padStart(2,"0");return`${t}:${n}:${s}`}function Te(e){if(!e||(e=e.trim(),e.length===0))return;const t=e.split(":");if(t.length!==3||t.some(s=>s.length===0))return;const n=new Date(`1970-01-01 ${e}`);if(!isNaN(n.valueOf()))return n}class xe{constructor(){L(this,"tests",[])}get score(){let t=0;for(let n of this.tests)t+=n.score;return t}get scoreString(){return Ie(new Date(this.score*1e3))}}class he{constructor(){L(this,"enter");L(this,"exit")}static fromTimes(t,n){const s=Te(t),i=Te(n);if(!s||!i||i<s)return;const c=new he;return c.enter=s,c.exit=i,c}get score(){return(this.exit.valueOf()-this.enter.valueOf())/1e3}get scoreString(){return Ie(new Date(this.exit.valueOf()-this.enter.valueOf()))}}function et(e){let t,n,s=e[1]+1+"",i,c,r,o,a,d,w,p,y,k,q,P,T,g;return{c(){t=f("tr"),n=f("td"),i=Q(s),c=C(),r=f("button"),r.textContent="\u274C",o=C(),a=f("td"),d=f("input"),w=C(),p=f("td"),y=f("input"),k=C(),q=f("td"),P=Q(e[2]),u(n,"class","svelte-1nqtemt"),u(d,"placeholder","hh:mm:ss"),u(d,"size","8"),u(d,"class","enterTime"),u(a,"class","svelte-1nqtemt"),u(y,"placeholder","hh:mm:ss"),u(y,"size","8"),u(y,"class","exitTime"),u(p,"class","svelte-1nqtemt"),u(q,"class","svelte-1nqtemt")},m(h,_){H(h,t,_),l(t,n),l(n,i),l(n,c),l(n,r),l(t,o),l(t,a),l(a,d),U(d,e[0].enter),l(t,w),l(t,p),l(p,y),U(y,e[0].exit),l(t,k),l(t,q),l(q,P),T||(g=[A(r,"click",e[3]),A(d,"input",e[4]),A(y,"input",e[5])],T=!0)},p(h,[_]){_&2&&s!==(s=h[1]+1+"")&&fe(i,s),_&1&&d.value!==h[0].enter&&U(d,h[0].enter),_&1&&y.value!==h[0].exit&&U(y,h[0].exit),_&4&&fe(P,h[2])},i:Y,o:Y,d(h){h&&z(t),T=!1,G(g)}}}function tt(e,t,n){let s;const i=We();function c(){i("delete",{index:o})}let{testDatum:r}=t,{index:o}=t;function a(p){const y=he.fromTimes(p.enter,p.exit);return y?y.scoreString:""}function d(){r.enter=this.value,n(0,r)}function w(){r.exit=this.value,n(0,r)}return e.$$set=p=>{"testDatum"in p&&n(0,r=p.testDatum),"index"in p&&n(1,o=p.index)},e.$$.update=()=>{e.$$.dirty&1&&n(2,s=a(r))},[r,o,s,c,d,w]}class nt extends ee{constructor(t){super(),x(this,t,tt,et,V,{testDatum:0,index:1})}}function qe(e,t,n){const s=e.slice();return s[7]=t[n],s[8]=t,s[9]=n,s}function Ce(e){let t,n,s;function i(r){e[5](r,e[7],e[8],e[9])}let c={index:e[9]};return e[7]!==void 0&&(c.testDatum=e[7]),t=new nt({props:c}),de.push(()=>Le(t,"testDatum",i)),t.$on("delete",e[4]),{c(){re(t.$$.fragment)},m(r,o){X(t,r,o),s=!0},p(r,o){e=r;const a={};!n&&o&1&&(n=!0,a.testDatum=e[7],ze(()=>n=!1)),t.$set(a)},i(r){s||(I(t.$$.fragment,r),s=!0)},o(r){F(t.$$.fragment,r),s=!1},d(r){Z(t,r)}}}function st(e){let t,n,s,i,c,r,o,a,d,w,p,y,k,q,P,T,g,h,_,v=e[0],m=[];for(let S=0;S<v.length;S+=1)m[S]=Ce(qe(e,v,S));const M=S=>F(m[S],1,1,()=>{m[S]=null});return{c(){t=f("table"),n=f("thead"),n.innerHTML=`<tr><th class="svelte-1670vm0">Test #</th> 
            <th class="svelte-1670vm0">Time In</th> 
            <th class="svelte-1670vm0">Time Out</th> 
            <th class="svelte-1670vm0">Score</th></tr>`,s=C(),i=f("tbody");for(let S=0;S<m.length;S+=1)m[S].c();c=C(),r=f("tfoot"),o=f("tr"),a=f("th"),d=f("div"),w=Q("Total Score: "),p=f("span"),y=Q(e[1]),k=C(),q=f("button"),q.textContent="Add a Test",P=C(),T=f("button"),T.textContent="Reset",u(p,"class","score"),u(d,"id","overallScore"),u(q,"id","addTest"),u(T,"id","reset"),u(a,"colspan","4"),u(a,"class","svelte-1670vm0"),u(r,"class","svelte-1670vm0"),u(t,"class","svelte-1670vm0")},m(S,j){H(S,t,j),l(t,n),l(t,s),l(t,i);for(let E=0;E<m.length;E+=1)m[E].m(i,null);l(t,c),l(t,r),l(r,o),l(o,a),l(a,d),l(d,w),l(d,p),l(p,y),l(a,k),l(a,q),l(a,P),l(a,T),g=!0,h||(_=[A(q,"click",e[2]),A(T,"click",e[3])],h=!0)},p(S,[j]){if(j&17){v=S[0];let E;for(E=0;E<v.length;E+=1){const b=qe(S,v,E);m[E]?(m[E].p(b,j),I(m[E],1)):(m[E]=Ce(b),m[E].c(),I(m[E],1),m[E].m(i,null))}for(ye(),E=v.length;E<m.length;E+=1)M(E);be()}(!g||j&2)&&fe(y,S[1])},i(S){if(!g){for(let j=0;j<v.length;j+=1)I(m[j]);g=!0}},o(S){m=m.filter(Boolean);for(let j=0;j<m.length;j+=1)F(m[j]);g=!1},d(S){S&&z(t),Oe(m,S),h=!1,G(_)}}}function Pe(e){const t=[];for(let n=0;n<e;n++)t.push({enter:"",exit:""});return t}function rt(e,t,n){let s,i=Pe(7);function c(){n(0,i[i.length]={enter:"",exit:""},i)}function r(){window.confirm("Are you sure you want to reset the Sprint Enduro?")&&n(0,i=Pe(7))}function o(){let w=new xe;for(let p of i){const y=he.fromTimes(p.enter,p.exit);y&&w.tests.push(y)}return w.scoreString}function a(w){window.confirm(`You sure you want to delete test ${w.detail.index+1}?`)&&n(0,i=i.filter((p,y)=>y!==w.detail.index))}function d(w,p,y,k){y[k]=w,n(0,i)}return e.$$.update=()=>{e.$$.dirty&1&&n(1,s=o())},[i,s,c,r,a,d]}class it extends ee{constructor(t){super(),x(this,t,rt,st,V,{})}}var O=(e=>(e[e.Start=0]="Start",e[e.Known=1]="Known",e[e.Secret=2]="Secret",e[e.Emergency=3]="Emergency",e))(O||{});class ke{constructor(t){L(this,"type",0);L(this,"minute",0);L(this,"seconds",0);this.minute=t}points(t){let n=0;return this.minute>=t&&(n=this.minute-t),n}disqualified(t){return!1}}class Re extends ke{constructor(n){super(n);L(this,"type",1)}disqualified(n){return n-this.minute>15}}class Se{constructor(t){L(this,"type",2);L(this,"minute",0);L(this,"seconds",0);this.minute=t}points(t){let n=0;return this.minute>=t?n=this.minute-t:n=5*(t-this.minute)-3,n}disqualified(t){return!1}}class me extends Se{constructor(n,s){super(n);L(this,"type",3);this.seconds=s}emergencyPoints(n){return this.minute===n?Math.abs(this.seconds-30):this.minute>n?30+this.seconds+60*(this.minute-n-1):30+(60-this.seconds)+60*(n-this.minute-1)}}class lt{constructor(t){L(this,"riderMinute",1);L(this,"checkpoints",[]);console.assert(t>=1),this.riderMinute=t}get points(){return this.checkpoints.map(t=>t.points(this.riderMinute)).reduce((t,n)=>t+n,0)}get emergencyPoints(){return this.checkpoints.map(t=>t instanceof me?t.emergencyPoints(this.riderMinute):0).reduce((t,n)=>t+n,0)}get disqualified(){return this.checkpoints.some(t=>t.disqualified(this.riderMinute))}}function Ne(e){let t,n,s,i;return{c(){t=f("input"),u(t,"class",n=B(e[2])+" svelte-3jwvov"),u(t,"size","2"),W(t,"width","2em"),u(t,"type","number"),u(t,"pattern","[0-9]*"),u(t,"min","0"),u(t,"max","59")},m(c,r){H(c,t,r),U(t,e[0].seconds),s||(i=A(t,"input",e[9]),s=!0)},p(c,r){r&4&&n!==(n=B(c[2])+" svelte-3jwvov")&&u(t,"class",n),r&1&&ae(t.value)!==c[0].seconds&&U(t,c[0].seconds)},d(c){c&&z(t),s=!1,i()}}}function ot(e){let t,n,s,i,c,r,o=e[1]+1+"",a,d,w,p,y,k,q,P,T,g,h,_,v,m,M,S,j,E,b,D,$,N=e[0].type===O.Emergency&&Ne(e);return{c(){t=f("tr"),n=f("td"),s=f("img"),c=C(),r=f("td"),a=Q(o),d=C(),w=f("td"),p=f("input"),k=C(),q=f("td"),N&&N.c(),P=C(),T=f("td"),g=f("input"),_=C(),v=f("td"),m=f("input"),S=C(),j=f("td"),E=f("input"),je(s.src,i=e[3])||u(s,"src",i),u(s,"alt","Flag"),u(s,"class","svelte-3jwvov"),u(n,"class","svelte-3jwvov"),u(r,"class","svelte-3jwvov"),u(p,"class",y=B(e[2])+" svelte-3jwvov"),u(p,"size","3"),W(p,"width","2em"),u(p,"type","number"),u(w,"class","svelte-3jwvov"),u(q,"class","svelte-3jwvov"),u(g,"class",h=B(e[2])+" svelte-3jwvov"),g.disabled=!0,g.value=e[5],u(g,"size","3"),W(g,"width","2em"),u(T,"class","svelte-3jwvov"),u(m,"class",M=B(e[2])+" svelte-3jwvov"),m.disabled=!0,m.value=e[4],u(m,"size","4"),W(m,"width","3em"),u(v,"class","svelte-3jwvov"),u(E,"type","checkbox"),u(E,"class","svelte-3jwvov"),u(j,"class","svelte-3jwvov"),u(t,"class",b=B(e[2])+" svelte-3jwvov")},m(K,R){H(K,t,R),l(t,n),l(n,s),l(t,c),l(t,r),l(r,a),l(t,d),l(t,w),l(w,p),U(p,e[0].minute),l(t,k),l(t,q),N&&N.m(q,null),l(t,P),l(t,T),l(T,g),l(t,_),l(t,v),l(v,m),l(t,S),l(t,j),l(j,E),E.checked=e[0].drop,D||($=[A(s,"click",e[6]),A(s,"keydown",ct),A(p,"input",e[8]),Be(ut.call(null,p)),A(E,"change",e[10])],D=!0)},p(K,[R]){R&8&&!je(s.src,i=K[3])&&u(s,"src",i),R&2&&o!==(o=K[1]+1+"")&&fe(a,o),R&4&&y!==(y=B(K[2])+" svelte-3jwvov")&&u(p,"class",y),R&1&&ae(p.value)!==K[0].minute&&U(p,K[0].minute),K[0].type===O.Emergency?N?N.p(K,R):(N=Ne(K),N.c(),N.m(q,null)):N&&(N.d(1),N=null),R&4&&h!==(h=B(K[2])+" svelte-3jwvov")&&u(g,"class",h),R&32&&g.value!==K[5]&&(g.value=K[5]),R&4&&M!==(M=B(K[2])+" svelte-3jwvov")&&u(m,"class",M),R&16&&m.value!==K[4]&&(m.value=K[4]),R&1&&(E.checked=K[0].drop),R&4&&b!==(b=B(K[2])+" svelte-3jwvov")&&u(t,"class",b)},i:Y,o:Y,d(K){K&&z(t),N&&N.d(),D=!1,G($)}}}function ut(e){e.focus()}const ct=()=>{};function at(e,t,n){let s,i,c,r,{check:o}=t,{index:a}=t,{riderMinute:d}=t;function w(h){const _=parseInt(h.minute);if(isNaN(_))return null;switch(h.type){case O.Emergency:const v=parseInt(h.seconds);if(!isNaN(v))return new me(_,v);break;case O.Known:return new Re(_);case O.Secret:return new Se(_);case O.Start:return new ke(_)}return null}function p(h,_){const v=w(h);return v?v.points(_):0}function y(h,_){if(h.type===O.Emergency){const v=parseInt(h.minute),m=parseInt(h.seconds);if(!isNaN(v+m)){console.log(v,m,_);const M=new me(v,m);return console.log(M),console.log(M.emergencyPoints(_)),M.emergencyPoints(_)}}return""}function k(h){return{[O.Start]:"./images/start.gif",[O.Known]:"./images/known.gif",[O.Secret]:"./images/secret.gif",[O.Emergency]:"./images/emergency.gif"}[h.type]}function q(){n(0,o.type=(o.type+1)%4,o)}function P(){o.minute=ae(this.value),n(0,o)}function T(){o.seconds=ae(this.value),n(0,o)}function g(){o.drop=this.checked,n(0,o)}return e.$$set=h=>{"check"in h&&n(0,o=h.check),"index"in h&&n(1,a=h.index),"riderMinute"in h&&n(7,d=h.riderMinute)},e.$$.update=()=>{e.$$.dirty&129&&n(5,s=p(o,d)),e.$$.dirty&129&&n(4,i=y(o,d)),e.$$.dirty&1&&n(3,c=k(o)),e.$$.dirty&1&&n(2,r=o.drop?"dropped":"")},[o,a,r,c,i,s,q,d,P,T,g]}class ft extends ee{constructor(t){super(),x(this,t,at,ot,V,{check:0,index:1,riderMinute:7})}}function dt(e){let t,n,s,i,c,r,o,a,d,w,p,y,k,q,P,T;return{c(){t=f("table"),n=f("tbody"),s=f("tr"),s.innerHTML=`<th class="svelte-l64quj">#<br/>Checks</th> 
            <th class="svelte-l64quj">Points</th> 
            <th class="svelte-l64quj">Emergency<br/>Points</th> 
            <th class="svelte-l64quj">Disqualified</th>`,i=C(),c=f("tr"),r=f("td"),o=f("input"),a=C(),d=f("td"),w=f("input"),p=C(),y=f("td"),k=f("input"),q=C(),P=f("td"),T=f("input"),u(o,"id","checks"),o.disabled=!0,o.value=e[0],u(o,"size","2"),W(o,"width","2em"),u(o,"class","svelte-l64quj"),u(r,"class","svelte-l64quj"),u(w,"id","points"),w.disabled=!0,w.value=e[1],u(w,"size","4"),W(w,"width","3em"),u(w,"class","svelte-l64quj"),u(d,"class","svelte-l64quj"),u(k,"id","emergencyPoints"),k.disabled=!0,k.value=e[2],u(k,"size","4"),W(k,"width","3em"),u(k,"class","svelte-l64quj"),u(y,"class","svelte-l64quj"),u(T,"id","disqualified"),T.disabled=!0,T.value=e[3],u(T,"size","4"),W(T,"width","3em"),u(T,"class","svelte-l64quj"),u(P,"class","svelte-l64quj"),W(t,"margin","auto")},m(g,h){H(g,t,h),l(t,n),l(n,s),l(n,i),l(n,c),l(c,r),l(r,o),l(c,a),l(c,d),l(d,w),l(c,p),l(c,y),l(y,k),l(c,q),l(c,P),l(P,T)},p(g,[h]){h&1&&o.value!==g[0]&&(o.value=g[0]),h&2&&w.value!==g[1]&&(w.value=g[1]),h&4&&k.value!==g[2]&&(k.value=g[2]),h&8&&T.value!==g[3]&&(T.value=g[3])},i:Y,o:Y,d(g){g&&z(t)}}}function mt(e,t,n){let{totalChecks:s}=t,{points:i}=t,{emergencyPoints:c}=t,{disqualified:r}=t;return e.$$set=o=>{"totalChecks"in o&&n(0,s=o.totalChecks),"points"in o&&n(1,i=o.points),"emergencyPoints"in o&&n(2,c=o.emergencyPoints),"disqualified"in o&&n(3,r=o.disqualified)},[s,i,c,r]}class ht extends ee{constructor(t){super(),x(this,t,mt,dt,V,{totalChecks:0,points:1,emergencyPoints:2,disqualified:3})}}function De(e,t,n){const s=e.slice();return s[16]=t[n],s[17]=t,s[18]=n,s}function Ke(e){let t,n,s;function i(r){e[9](r,e[16],e[17],e[18])}let c={riderMinute:e[0],index:e[18]};return e[16]!==void 0&&(c.check=e[16]),t=new ft({props:c}),de.push(()=>Le(t,"check",i)),{c(){re(t.$$.fragment)},m(r,o){X(t,r,o),s=!0},p(r,o){e=r;const a={};o&1&&(a.riderMinute=e[0]),!n&&o&2&&(n=!0,a.check=e[16],ze(()=>n=!1)),t.$set(a)},i(r){s||(I(t.$$.fragment,r),s=!0)},o(r){F(t.$$.fragment,r),s=!1},d(r){Z(t,r)}}}function pt(e){let t,n,s,i,c,r,o,a,d,w,p,y,k,q,P,T,g,h,_,v,m,M,S=e[1],j=[];for(let b=0;b<S.length;b+=1)j[b]=Ke(De(e,S,b));const E=b=>F(j[b],1,1,()=>{j[b]=null});return k=new ht({props:{totalChecks:e[3],points:e[5],emergencyPoints:e[4],disqualified:e[2]}}),{c(){t=f("div"),n=Q("Rider Minute: "),s=f("input"),i=C(),c=f("table"),r=f("thead"),r.innerHTML=`<tr><th class="svelte-1976845"></th> 
            <th class="svelte-1976845">#</th> 
            <th class="svelte-1976845">Minute</th> 
            <th class="svelte-1976845">Second</th> 
            <th class="svelte-1976845">Points</th> 
            <th class="svelte-1976845">Emergency<br/>Points</th> 
            <th class="svelte-1976845">Drop</th></tr>`,o=C(),a=f("tbody");for(let b=0;b<j.length;b+=1)j[b].c();d=C(),w=f("tfoot"),p=f("tr"),y=f("td"),re(k.$$.fragment),q=C(),P=f("tr"),T=f("th"),g=f("button"),g.textContent="Add a Check",h=C(),_=f("button"),_.textContent="Reset",u(s,"pattern","[0-9]*"),u(s,"size","3"),u(s,"min","1"),u(t,"id","riderMinute"),u(t,"class","svelte-1976845"),u(y,"colspan","7"),u(g,"id","addCheck"),u(_,"id","reset"),u(T,"colspan","7"),u(T,"class","svelte-1976845"),u(w,"class","svelte-1976845"),u(c,"class","svelte-1976845")},m(b,D){H(b,t,D),l(t,n),l(t,s),U(s,e[0]),H(b,i,D),H(b,c,D),l(c,r),l(c,o),l(c,a);for(let $=0;$<j.length;$+=1)j[$].m(a,null);l(c,d),l(c,w),l(w,p),l(p,y),X(k,y,null),l(w,q),l(w,P),l(P,T),l(T,g),l(T,h),l(T,_),v=!0,m||(M=[A(s,"input",e[8]),A(g,"click",e[6]),A(_,"click",e[7])],m=!0)},p(b,[D]){if(D&1&&s.value!==b[0]&&U(s,b[0]),D&3){S=b[1];let N;for(N=0;N<S.length;N+=1){const K=De(b,S,N);j[N]?(j[N].p(K,D),I(j[N],1)):(j[N]=Ke(K),j[N].c(),I(j[N],1),j[N].m(a,null))}for(ye(),N=S.length;N<j.length;N+=1)E(N);be()}const $={};D&8&&($.totalChecks=b[3]),D&32&&($.points=b[5]),D&16&&($.emergencyPoints=b[4]),D&4&&($.disqualified=b[2]),k.$set($)},i(b){if(!v){for(let D=0;D<S.length;D+=1)I(j[D]);I(k.$$.fragment,b),v=!0}},o(b){j=j.filter(Boolean);for(let D=0;D<j.length;D+=1)F(j[D]);F(k.$$.fragment,b),v=!1},d(b){b&&z(t),b&&z(i),b&&z(c),Oe(j,b),Z(k),m=!1,G(M)}}}function _t(e){return e.length-e.filter(t=>t.drop).length}function gt(e,t,n){let s,i,c,r,o=1,a=d(1);function d(_){const v=[];for(let m=0;m<_;m++)v.push({type:O.Secret,minute:o,seconds:30,drop:!1});return v}function w(){console.log(o),n(1,a[a.length]={type:O.Secret,minute:o,seconds:30,drop:!1},a)}function p(){window.confirm("Are you sure you want to reset the score card?")&&(n(0,o=1),n(1,a=d(1)))}function y(_){const v=parseInt(_.minute);if(isNaN(v))return null;switch(_.type){case O.Emergency:const m=parseInt(_.seconds);if(!isNaN(m))return new me(v,m);break;case O.Known:return new Re(v);case O.Secret:return new Se(v);case O.Start:return new ke(v)}return null}function k(_,v){if(_<1)return null;const m=new lt(_);for(let M of v){const S=y(M);!M.drop&&S&&m.checkpoints.push(S)}return m}function q(_,v){const m=k(_,v);return m?m.points:"0"}function P(_,v){const m=k(_,v);return m?m.emergencyPoints:"0"}function T(_,v){const m=k(_,v);return m&&m.disqualified?"YES":"NO"}function g(){o=this.value,n(0,o)}function h(_,v,m,M){m[M]=_,n(1,a)}return e.$$.update=()=>{e.$$.dirty&3&&n(5,s=q(o,a)),e.$$.dirty&3&&n(4,i=P(o,a)),e.$$.dirty&2&&n(3,c=_t(a)),e.$$.dirty&3&&n(2,r=T(o,a))},[o,a,r,c,i,s,w,p,g,h]}class vt extends ee{constructor(t){super(),x(this,t,gt,pt,V,{})}}function wt(e){let t,n,s,i,c,r,o;return r=new vt({}),{c(){t=f("div"),n=f("h2"),n.textContent="Time Keeper Enduro",s=C(),i=f("p"),i.textContent="Tap Flags to change check type.",c=C(),re(r.$$.fragment),u(t,"id","timeKeeper")},m(a,d){H(a,t,d),l(t,n),l(t,s),l(t,i),l(t,c),X(r,t,null),o=!0},i(a){o||(I(r.$$.fragment,a),o=!0)},o(a){F(r.$$.fragment,a),o=!1},d(a){a&&z(t),Z(r)}}}function yt(e){let t,n,s,i,c,r,o;return r=new it({}),{c(){t=f("div"),n=f("h2"),n.textContent="Sprint Enduro",s=C(),i=f("p"),i.innerHTML="Enter <b>Time In</b> and <b>Time Out</b> as HH:MM:SS.",c=C(),re(r.$$.fragment),u(t,"id","sprint")},m(a,d){H(a,t,d),l(t,n),l(t,s),l(t,i),l(t,c),X(r,t,null),o=!0},i(a){o||(I(r.$$.fragment,a),o=!0)},o(a){F(r.$$.fragment,a),o=!1},d(a){a&&z(t),Z(r)}}}function bt(e){let t,n,s,i,c,r,o,a,d,w,p,y,k,q,P,T,g,h,_,v,m;const M=[yt,wt],S=[];function j(E,b){return E[0]==="sprint"?0:1}return g=j(e),h=S[g]=M[g](e),{c(){t=f("meta"),n=f("meta"),s=f("link"),i=f("meta"),c=f("link"),r=C(),o=f("main"),a=f("center"),d=f("h1"),d.textContent="Enduro Time Card",w=C(),p=f("p"),p.textContent=`You can verify your Enduro score cards using this tool. Why would
      you do that?  Because races are busy places and with hundreds of riders,
      those hard working club members sometimes enter something incorrectly.`,y=C(),k=f("button"),k.textContent="Sprint",q=C(),P=f("button"),P.textContent="Time Keeper",T=C(),h.c(),u(t,"name","apple-mobile-web-app-capable"),u(t,"content","yes"),u(n,"name","viewport"),u(n,"content","width=device-width, initial-scale=1, maximum-scale=1"),u(s,"rel","apple-touch-icon"),u(s,"href",Ze),u(i,"name","apple-mobile-web-app-title"),u(i,"content","Enduro Time Card"),u(c,"red","manifest"),u(c,"crossorigin","use-credentials"),u(c,"href","manifest.json"),u(k,"class","svelte-py93mz"),le(k,"selected",e[0]==="sprint"),u(P,"class","svelte-py93mz"),le(P,"selected",e[0]==="timeKeeper")},m(E,b){l(document.head,t),l(document.head,n),l(document.head,s),l(document.head,i),l(document.head,c),H(E,r,b),H(E,o,b),l(o,a),l(a,d),l(a,w),l(a,p),l(a,y),l(a,k),l(a,q),l(a,P),l(a,T),S[g].m(a,null),_=!0,v||(m=[A(k,"click",e[2]),A(P,"click",e[3])],v=!0)},p(E,[b]){(!_||b&1)&&le(k,"selected",E[0]==="sprint"),(!_||b&1)&&le(P,"selected",E[0]==="timeKeeper");let D=g;g=j(E),g!==D&&(ye(),F(S[D],1,1,()=>{S[D]=null}),be(),h=S[g],h||(h=S[g]=M[g](E),h.c()),I(h,1),h.m(a,null))},i(E){_||(I(h),_=!0)},o(E){F(h),_=!1},d(E){z(t),z(n),z(s),z(i),z(c),E&&z(r),E&&z(o),S[g].d(),v=!1,G(m)}}}function kt(e,t,n){let s="sprint";function i(o){s!==o&&window.confirm("Switching time cards will lose all data. Are you sure?")&&n(0,s=o)}return[s,i,()=>i("sprint"),()=>i("timeKeeper")]}class St extends ee{constructor(t){super(),x(this,t,kt,bt,V,{})}}new St({target:document.getElementById("app")});
