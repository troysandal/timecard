var ht=Object.defineProperty;var pt=(t,e,n)=>e in t?ht(t,e,{enumerable:!0,configurable:!0,writable:!0,value:n}):t[e]=n;var B=(t,e,n)=>(pt(t,typeof e!="symbol"?e+"":e,n),n);(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const o of document.querySelectorAll('link[rel="modulepreload"]'))r(o);new MutationObserver(o=>{for(const u of o)if(u.type==="childList")for(const i of u.addedNodes)i.tagName==="LINK"&&i.rel==="modulepreload"&&r(i)}).observe(document,{childList:!0,subtree:!0});function n(o){const u={};return o.integrity&&(u.integrity=o.integrity),o.referrerpolicy&&(u.referrerPolicy=o.referrerpolicy),o.crossorigin==="use-credentials"?u.credentials="include":o.crossorigin==="anonymous"?u.credentials="omit":u.credentials="same-origin",u}function r(o){if(o.ep)return;o.ep=!0;const u=n(o);fetch(o.href,u)}})();function C(){}function ut(t){return t()}function rt(){return Object.create(null)}function O(t){t.forEach(ut)}function lt(t){return typeof t=="function"}function Q(t,e){return t!=t?e==e:t!==e||t&&typeof t=="object"||typeof t=="function"}function mt(t){return Object.keys(t).length===0}function f(t,e){t.appendChild(e)}function V(t,e,n){t.insertBefore(e,n||null)}function H(t){t.parentNode&&t.parentNode.removeChild(t)}function gt(t,e){for(let n=0;n<t.length;n+=1)t[n]&&t[n].d(e)}function p(t){return document.createElement(t)}function A(t){return document.createTextNode(t)}function x(){return A(" ")}function I(t,e,n,r){return t.addEventListener(e,n,r),()=>t.removeEventListener(e,n,r)}function E(t,e,n){n==null?t.removeAttribute(e):t.getAttribute(e)!==n&&t.setAttribute(e,n)}function _t(t){return Array.from(t.childNodes)}function z(t,e){e=""+e,t.wholeText!==e&&(t.data=e)}function M(t,e){t.value=e==null?"":e}function yt(t,e,{bubbles:n=!1,cancelable:r=!1}={}){const o=document.createEvent("CustomEvent");return o.initCustomEvent(t,n,r,e),o}let j;function L(t){j=t}function $t(){if(!j)throw new Error("Function called outside component initialization");return j}function bt(){const t=$t();return(e,n,{cancelable:r=!1}={})=>{const o=t.$$.callbacks[e];if(o){const u=yt(e,n,{cancelable:r});return o.slice().forEach(i=>{i.call(t,u)}),!u.defaultPrevented}return!0}}const N=[],K=[],U=[],W=[],wt=Promise.resolve();let G=!1;function vt(){G||(G=!0,wt.then(ct))}function J(t){U.push(t)}function xt(t){W.push(t)}const Y=new Set;let P=0;function ct(){const t=j;do{for(;P<N.length;){const e=N[P];P++,L(e),Tt(e.$$)}for(L(null),N.length=0,P=0;K.length;)K.pop()();for(let e=0;e<U.length;e+=1){const n=U[e];Y.has(n)||(Y.add(n),n())}U.length=0}while(N.length);for(;W.length;)W.pop()();G=!1,Y.clear(),L(t)}function Tt(t){if(t.fragment!==null){t.update(),O(t.before_update);const e=t.dirty;t.dirty=[-1],t.fragment&&t.fragment.p(t.ctx,e),t.after_update.forEach(J)}}const q=new Set;let D;function Dt(){D={r:0,c:[],p:D}}function Et(){D.r||O(D.c),D=D.p}function S(t,e){t&&t.i&&(q.delete(t),t.i(e))}function F(t,e,n,r){if(t&&t.o){if(q.has(t))return;q.add(t),D.c.push(()=>{q.delete(t),r&&(n&&t.d(1),r())}),t.o(e)}else r&&r()}function St(t,e,n){const r=t.$$.props[e];r!==void 0&&(t.$$.bound[r]=n,n(t.$$.ctx[r]))}function ft(t){t&&t.c()}function X(t,e,n,r){const{fragment:o,after_update:u}=t.$$;o&&o.m(e,n),r||J(()=>{const i=t.$$.on_mount.map(ut).filter(lt);t.$$.on_destroy?t.$$.on_destroy.push(...i):O(i),t.$$.on_mount=[]}),u.forEach(J)}function Z(t,e){const n=t.$$;n.fragment!==null&&(O(n.on_destroy),n.fragment&&n.fragment.d(e),n.on_destroy=n.fragment=null,n.ctx=[])}function Ct(t,e){t.$$.dirty[0]===-1&&(N.push(t),vt(),t.$$.dirty.fill(0)),t.$$.dirty[e/31|0]|=1<<e%31}function tt(t,e,n,r,o,u,i,d=[-1]){const c=j;L(t);const s=t.$$={fragment:null,ctx:[],props:u,update:C,not_equal:o,bound:rt(),on_mount:[],on_destroy:[],on_disconnect:[],before_update:[],after_update:[],context:new Map(e.context||(c?c.$$.context:[])),callbacks:rt(),dirty:d,skip_bound:!1,root:e.target||c.$$.root};i&&i(s.root);let y=!1;if(s.ctx=n?n(t,e.props||{},(l,g,...b)=>{const w=b.length?b[0]:g;return s.ctx&&o(s.ctx[l],s.ctx[l]=w)&&(!s.skip_bound&&s.bound[l]&&s.bound[l](w),y&&Ct(t,l)),g}):[],s.update(),y=!0,O(s.before_update),s.fragment=r?r(s.ctx):!1,e.target){if(e.hydrate){const l=_t(e.target);s.fragment&&s.fragment.l(l),l.forEach(H)}else s.fragment&&s.fragment.c();e.intro&&S(t.$$.fragment),X(t,e.target,e.anchor,e.customElement),ct()}L(c)}class et{$destroy(){Z(this,1),this.$destroy=C}$on(e,n){if(!lt(n))return C;const r=this.$$.callbacks[e]||(this.$$.callbacks[e]=[]);return r.push(n),()=>{const o=r.indexOf(n);o!==-1&&r.splice(o,1)}}$set(e){this.$$set&&!mt(e)&&(this.$$.skip_bound=!0,this.$$set(e),this.$$.skip_bound=!1)}}function at(t){const e=t.getUTCHours().toString().padStart(2,"0"),n=t.getUTCMinutes().toString().padStart(2,"0"),r=t.getUTCSeconds().toString().padStart(2,"0");return`${e}:${n}:${r}`}function ot(t){if(!t||(t=t.trim(),t.length===0))return;const e=t.split(":");if(e.length!==3||e.some(r=>r.length===0))return;const n=new Date(`1970-01-01 ${t}`);if(!isNaN(n.valueOf()))return n}class Ot{constructor(){B(this,"tests",[])}get score(){let e=0;for(let n of this.tests)e+=n.score;return e}get scoreString(){return at(new Date(this.score*1e3))}}class R{constructor(){B(this,"enter");B(this,"exit")}static fromTimes(e,n){const r=ot(e),o=ot(n);if(!r||!o||o<r)return;const u=new R;return u.enter=r,u.exit=o,u}get score(){return(this.exit.valueOf()-this.enter.valueOf())/1e3}get scoreString(){return at(new Date(this.exit.valueOf()-this.enter.valueOf()))}}function kt(t){let e,n,r=t[1]+1+"",o,u,i,d,c,s,y,l,g,b,w,v,T,k;return{c(){e=p("tr"),n=p("th"),o=A(r),u=x(),i=p("button"),i.textContent="\u274C",d=x(),c=p("th"),s=p("input"),y=x(),l=p("th"),g=p("input"),b=x(),w=p("th"),v=A(t[2]),E(s,"class","enterTime"),E(g,"class","exitTime")},m(_,a){V(_,e,a),f(e,n),f(n,o),f(n,u),f(n,i),f(e,d),f(e,c),f(c,s),M(s,t[0].enter),f(e,y),f(e,l),f(l,g),M(g,t[0].exit),f(e,b),f(e,w),f(w,v),T||(k=[I(i,"click",t[3]),I(s,"input",t[4]),I(g,"input",t[5])],T=!0)},p(_,[a]){a&2&&r!==(r=_[1]+1+"")&&z(o,r),a&1&&s.value!==_[0].enter&&M(s,_[0].enter),a&1&&g.value!==_[0].exit&&M(g,_[0].exit),a&4&&z(v,_[2])},i:C,o:C,d(_){_&&H(e),T=!1,O(k)}}}function Nt(t,e,n){let r;const o=bt();function u(){o("delete",{index:d})}let{testDatum:i}=e,{index:d}=e;function c(l){const g=R.fromTimes(l.enter,l.exit);return g?g.scoreString:""}function s(){i.enter=this.value,n(0,i)}function y(){i.exit=this.value,n(0,i)}return t.$$set=l=>{"testDatum"in l&&n(0,i=l.testDatum),"index"in l&&n(1,d=l.index)},t.$$.update=()=>{t.$$.dirty&1&&n(2,r=c(i))},[i,d,r,u,s,y]}class Lt extends et{constructor(e){super(),tt(this,e,Nt,kt,Q,{testDatum:0,index:1})}}function it(t,e,n){const r=t.slice();return r[6]=e[n],r[7]=e,r[8]=n,r}function st(t){let e,n,r;function o(i){t[4](i,t[6],t[7],t[8])}let u={index:t[8]};return t[6]!==void 0&&(u.testDatum=t[6]),e=new Lt({props:u}),K.push(()=>St(e,"testDatum",o)),e.$on("delete",t[3]),{c(){ft(e.$$.fragment)},m(i,d){X(e,i,d),r=!0},p(i,d){t=i;const c={};!n&&d&1&&(n=!0,c.testDatum=t[6],xt(()=>n=!1)),e.$set(c)},i(i){r||(S(e.$$.fragment,i),r=!0)},o(i){F(e.$$.fragment,i),r=!1},d(i){Z(e,i)}}}function At(t){let e,n,r,o,u,i,d,c,s,y,l,g,b,w,v,T,k,_=t[0],a=[];for(let h=0;h<_.length;h+=1)a[h]=st(it(t,_,h));const dt=h=>F(a[h],1,1,()=>{a[h]=null});return{c(){e=p("table"),n=p("thead"),n.innerHTML=`<tr><th>Test #</th> 
            <th>Time In</th> 
            <th>Time Out</th> 
            <th>SCORE</th></tr>`,r=x(),o=p("tbody");for(let h=0;h<a.length;h+=1)a[h].c();u=x(),i=p("tfoot"),d=p("tr"),c=p("th"),s=p("button"),s.textContent="Add a Test",y=x(),l=p("p"),g=A("Total Score: "),b=p("span"),w=A(t[1]),E(s,"id","addTest"),E(b,"class","score"),E(c,"colspan","4"),E(e,"class","scorecard")},m(h,$){V(h,e,$),f(e,n),f(e,r),f(e,o);for(let m=0;m<a.length;m+=1)a[m].m(o,null);f(e,u),f(e,i),f(i,d),f(d,c),f(c,s),f(c,y),f(c,l),f(l,g),f(l,b),f(b,w),v=!0,T||(k=I(s,"click",t[2]),T=!0)},p(h,[$]){if($&9){_=h[0];let m;for(m=0;m<_.length;m+=1){const nt=it(h,_,m);a[m]?(a[m].p(nt,$),S(a[m],1)):(a[m]=st(nt),a[m].c(),S(a[m],1),a[m].m(o,null))}for(Dt(),m=_.length;m<a.length;m+=1)dt(m);Et()}(!v||$&2)&&z(w,h[1])},i(h){if(!v){for(let $=0;$<_.length;$+=1)S(a[$]);v=!0}},o(h){a=a.filter(Boolean);for(let $=0;$<a.length;$+=1)F(a[$]);v=!1},d(h){h&&H(e),gt(a,h),T=!1,k()}}}function jt(t,e,n){let r,o=[];function u(){n(0,o[o.length]={enter:"",exit:""},o)}function i(){let s=new Ot;for(let y of o){const l=R.fromTimes(y.enter,y.exit);l&&s.tests.push(l)}return s.scoreString}function d(s){window.confirm(`You sure you want to delete test ${s.detail.index+1}?`)&&n(0,o=o.filter((y,l)=>l!==s.detail.index))}function c(s,y,l,g){l[g]=s,n(0,o)}return t.$$.update=()=>{t.$$.dirty&1&&n(1,r=i())},[o,r,u,d,c]}class Bt extends et{constructor(e){super(),tt(this,e,jt,At,Q,{})}}function Mt(t){let e,n,r,o,u,i,d;return i=new Bt({}),{c(){e=p("main"),n=p("h1"),n.textContent="Time Card",r=x(),o=p("p"),o.textContent=`You can verify your Sprint Enduro score cards
      using this web site. Why would you do that?  Because races are 
      busy places and with hundreds of riders, those hard working club 
      members sometimes enter something incorrectly.  This lets you 
      quickly and easily verify that posted scores are correct.`,u=x(),ft(i.$$.fragment)},m(c,s){V(c,e,s),f(e,n),f(e,r),f(e,o),f(e,u),X(i,e,null),d=!0},p:C,i(c){d||(S(i.$$.fragment,c),d=!0)},o(c){F(i.$$.fragment,c),d=!1},d(c){c&&H(e),Z(i)}}}class Pt extends et{constructor(e){super(),tt(this,e,null,Mt,Q,{})}}new Pt({target:document.getElementById("app")});
